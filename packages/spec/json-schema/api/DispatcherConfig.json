{
  "$ref": "#/definitions/DispatcherConfig",
  "definitions": {
    "DispatcherConfig": {
      "type": "object",
      "properties": {
        "routes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "prefix": {
                "type": "string",
                "pattern": "^\\/",
                "description": "URL path prefix for routing (e.g. /api/v1/data)"
              },
              "service": {
                "type": "string",
                "enum": [
                  "metadata",
                  "data",
                  "auth",
                  "file-storage",
                  "search",
                  "cache",
                  "queue",
                  "automation",
                  "graphql",
                  "analytics",
                  "hub",
                  "realtime",
                  "job",
                  "notification",
                  "ai",
                  "i18n",
                  "ui",
                  "workflow"
                ],
                "description": "Target core service name"
              },
              "authRequired": {
                "type": "boolean",
                "default": true,
                "description": "Whether authentication is required"
              },
              "criticality": {
                "type": "string",
                "enum": [
                  "required",
                  "core",
                  "optional"
                ],
                "default": "optional",
                "description": "Service criticality level for unavailability handling"
              },
              "permissions": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Required permissions for this route namespace"
              }
            },
            "required": [
              "prefix",
              "service"
            ],
            "additionalProperties": false
          },
          "description": "Route-to-service mappings"
        },
        "fallback": {
          "type": "string",
          "enum": [
            "404",
            "proxy",
            "custom"
          ],
          "default": "404",
          "description": "Behavior when no route matches"
        },
        "proxyTarget": {
          "type": "string",
          "format": "uri",
          "description": "Proxy target URL when fallback is \"proxy\""
        }
      },
      "required": [
        "routes"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}