{
  "$ref": "#/definitions/AiNlqResponse",
  "definitions": {
    "AiNlqResponse": {
      "type": "object",
      "properties": {
        "query": {
          "description": "Generated structured query (AST)"
        },
        "explanation": {
          "type": "string",
          "description": "Human-readable explanation of the query"
        },
        "confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Confidence score (0-1)"
        },
        "suggestions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Suggested follow-up queries"
        }
      },
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}