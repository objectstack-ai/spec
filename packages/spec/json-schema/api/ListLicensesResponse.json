{
  "$ref": "#/definitions/ListLicensesResponse",
  "definitions": {
    "ListLicensesResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "Operation success status"
        },
        "error": {
          "type": "object",
          "properties": {
            "code": {
              "type": "string",
              "description": "Error code (e.g. validation_error)"
            },
            "message": {
              "type": "string",
              "description": "Readable error message"
            },
            "category": {
              "type": "string",
              "description": "Error category (e.g. validation, authorization)"
            },
            "details": {
              "description": "Additional error context (e.g. field validation errors)"
            },
            "requestId": {
              "type": "string",
              "description": "Request ID for tracking"
            }
          },
          "required": [
            "code",
            "message"
          ],
          "additionalProperties": false,
          "description": "Error details if success is false"
        },
        "meta": {
          "type": "object",
          "properties": {
            "timestamp": {
              "type": "string"
            },
            "duration": {
              "type": "number"
            },
            "requestId": {
              "type": "string"
            },
            "traceId": {
              "type": "string"
            }
          },
          "required": [
            "timestamp"
          ],
          "additionalProperties": false,
          "description": "Response metadata"
        },
        "data": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "spaceId": {
                "type": "string",
                "description": "Target Space ID"
              },
              "planCode": {
                "type": "string"
              },
              "issuedAt": {
                "type": "string",
                "format": "date-time"
              },
              "expiresAt": {
                "type": "string",
                "format": "date-time"
              },
              "status": {
                "type": "string",
                "enum": [
                  "active",
                  "expired",
                  "suspended",
                  "trial"
                ]
              },
              "customFeatures": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "customLimits": {
                "type": "object",
                "additionalProperties": {
                  "type": "number"
                }
              },
              "plugins": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of enabled plugin package IDs"
              },
              "signature": {
                "type": "string",
                "description": "Cryptographic signature of the license"
              }
            },
            "required": [
              "spaceId",
              "planCode",
              "issuedAt",
              "status"
            ],
            "additionalProperties": false
          },
          "description": "List of licenses"
        },
        "pagination": {
          "type": "object",
          "properties": {
            "page": {
              "type": "integer",
              "minimum": 1,
              "description": "Current page number"
            },
            "perPage": {
              "type": "integer",
              "minimum": 1,
              "description": "Items per page"
            },
            "total": {
              "type": "integer",
              "minimum": 0,
              "description": "Total number of items"
            },
            "totalPages": {
              "type": "integer",
              "minimum": 0,
              "description": "Total number of pages"
            },
            "hasNext": {
              "type": "boolean",
              "description": "Whether there is a next page"
            },
            "hasPrev": {
              "type": "boolean",
              "description": "Whether there is a previous page"
            }
          },
          "required": [
            "page",
            "perPage",
            "total",
            "totalPages",
            "hasNext",
            "hasPrev"
          ],
          "additionalProperties": false,
          "description": "Pagination metadata"
        }
      },
      "required": [
        "success",
        "data",
        "pagination"
      ],
      "additionalProperties": false,
      "description": "Paginated response containing a list of licenses"
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}