{
  "$ref": "#/definitions/PostgresConfig",
  "definitions": {
    "PostgresConfig": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "description": "Connection URI"
        },
        "database": {
          "type": "string",
          "description": "Database Name"
        },
        "host": {
          "type": "string",
          "default": "localhost",
          "description": "Host address"
        },
        "port": {
          "type": "number",
          "default": 5432,
          "description": "Port number"
        },
        "username": {
          "type": "string",
          "description": "Auth User"
        },
        "password": {
          "type": "string",
          "description": "Auth Password"
        },
        "schema": {
          "type": "string",
          "default": "public",
          "description": "Default Schema"
        },
        "ssl": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "object",
              "properties": {
                "rejectUnauthorized": {
                  "type": "boolean"
                },
                "ca": {
                  "type": "string"
                },
                "key": {
                  "type": "string"
                },
                "cert": {
                  "type": "string"
                }
              },
              "additionalProperties": false
            }
          ],
          "description": "Enable SSL"
        },
        "applicationName": {
          "type": "string",
          "description": "Application Name"
        },
        "max": {
          "type": "number",
          "default": 10,
          "description": "Max Pool Size"
        },
        "min": {
          "type": "number",
          "default": 0,
          "description": "Min Pool Size"
        },
        "idleTimeoutMillis": {
          "type": "number",
          "description": "Idle Timeout (ms)"
        },
        "connectionTimeoutMillis": {
          "type": "number",
          "description": "Connection Timeout (ms)"
        },
        "statementTimeout": {
          "type": "number",
          "description": "Statement Timeout (ms)"
        }
      },
      "required": [
        "database"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}