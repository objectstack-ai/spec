{
  "$ref": "#/definitions/PermissionSet",
  "definitions": {
    "PermissionSet": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "minLength": 2,
          "pattern": "^[a-z][a-z0-9_]*$",
          "description": "Permission set unique name (lowercase snake_case)"
        },
        "label": {
          "type": "string",
          "description": "Display label"
        },
        "isProfile": {
          "type": "boolean",
          "default": false,
          "description": "Whether this is a user profile"
        },
        "objects": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "allowCreate": {
                "type": "boolean",
                "default": false,
                "description": "Create permission"
              },
              "allowRead": {
                "type": "boolean",
                "default": false,
                "description": "Read permission"
              },
              "allowEdit": {
                "type": "boolean",
                "default": false,
                "description": "Edit permission"
              },
              "allowDelete": {
                "type": "boolean",
                "default": false,
                "description": "Delete permission"
              },
              "allowTransfer": {
                "type": "boolean",
                "default": false,
                "description": "Change record ownership"
              },
              "allowRestore": {
                "type": "boolean",
                "default": false,
                "description": "Restore from trash (Undelete)"
              },
              "allowPurge": {
                "type": "boolean",
                "default": false,
                "description": "Permanently delete (Hard Delete/GDPR)"
              },
              "viewAllRecords": {
                "type": "boolean",
                "default": false,
                "description": "View All Data (Bypass Sharing)"
              },
              "modifyAllRecords": {
                "type": "boolean",
                "default": false,
                "description": "Modify All Data (Bypass Sharing)"
              }
            },
            "additionalProperties": false
          },
          "description": "Entity permissions"
        },
        "fields": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "properties": {
              "readable": {
                "type": "boolean",
                "default": true,
                "description": "Field read access"
              },
              "editable": {
                "type": "boolean",
                "default": false,
                "description": "Field edit access"
              }
            },
            "additionalProperties": false
          },
          "description": "Field level security"
        },
        "systemPermissions": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "System level capabilities"
        }
      },
      "required": [
        "name",
        "objects"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}