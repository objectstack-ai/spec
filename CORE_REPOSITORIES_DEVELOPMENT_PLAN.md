# ObjectStack æ ¸å¿ƒä»“åº“å¼€å‘å†…å®¹è¯¦ç»†è§„åˆ’
# ObjectStack Core Repositories Detailed Development Plan

**æ–‡æ¡£ç‰ˆæœ¬ / Version**: 1.0  
**åˆ›å»ºæ—¥æœŸ / Created**: 2026-01-30  
**ä½œè€… / Author**: ObjectStack æ ¸å¿ƒå›¢é˜Ÿ / ObjectStack Core Team  
**ç›¸å…³ PR**: #397

---

## ğŸ“‹ ç›®å½• / Table of Contents

1. [æ¦‚è§ˆ / Overview](#æ¦‚è§ˆ--overview)
2. [æ ¸å¿ƒä»“åº“æ¶æ„å›¾ / Core Repositories Architecture](#æ ¸å¿ƒä»“åº“æ¶æ„å›¾--core-repositories-architecture)
3. [ä»“åº“ 1: @objectstack/core - å¾®å†…æ ¸](#ä»“åº“-1-objectstackcore---å¾®å†…æ ¸)
4. [ä»“åº“ 2: @objectstack/objectql - æŸ¥è¯¢å¼•æ“](#ä»“åº“-2-objectstackobjectql---æŸ¥è¯¢å¼•æ“)
5. [ä»“åº“ 3: @objectstack/runtime - è¿è¡Œæ—¶ç¯å¢ƒ](#ä»“åº“-3-objectstackruntime---è¿è¡Œæ—¶ç¯å¢ƒ)
6. [ä»“åº“ 4: @objectstack/client - å®¢æˆ·ç«¯ SDK](#ä»“åº“-4-objectstackclient---å®¢æˆ·ç«¯-sdk)
7. [ä»“åº“ 5: @objectstack/cli - å‘½ä»¤è¡Œå·¥å…·](#ä»“åº“-5-objectstackcli---å‘½ä»¤è¡Œå·¥å…·)
8. [ä»“åº“ 6: @objectstack/types - å…±äº«ç±»å‹](#ä»“åº“-6-objectstacktypes---å…±äº«ç±»å‹)
9. [å¼€å‘ä¼˜å…ˆçº§ä¸æ—¶é—´çº¿](#å¼€å‘ä¼˜å…ˆçº§ä¸æ—¶é—´çº¿)
10. [æŠ€æœ¯æ ˆä¸å·¥å…·é“¾](#æŠ€æœ¯æ ˆä¸å·¥å…·é“¾)

---

## æ¦‚è§ˆ / Overview

æœ¬æ–‡æ¡£è¯¦ç»†è§„åˆ’äº† ObjectStack å¾®å†…æ ¸æ¶æ„çš„ 6 ä¸ªæ ¸å¿ƒä»“åº“çš„å¼€å‘å†…å®¹æ¸…å•ã€‚æ¯ä¸ªä»“åº“éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œå’Œå¼€å‘ä»»åŠ¡ã€‚

This document provides a detailed development plan for the 6 core repositories of ObjectStack's microkernel architecture. Each repository has clear responsibility boundaries and development tasks.

### æ ¸å¿ƒåŸåˆ™ / Core Principles

| åŸåˆ™ / Principle | è¯´æ˜ / Description |
|---|---|
| **ä¾èµ–æ–¹å‘** | spec â† core â† objectql â† runtime â† client/cli |
| **èŒè´£åˆ†ç¦»** | æ¯ä¸ªä»“åº“åªè´Ÿè´£ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ |
| **æœ€å°æ¥å£** | é€šè¿‡ @objectstack/types å®šä¹‰æ¸…æ™°çš„å¥‘çº¦ |
| **å¯æµ‹è¯•æ€§** | æ¯ä¸ªä»“åº“ç‹¬ç«‹æµ‹è¯•ï¼Œé›†æˆæµ‹è¯•åœ¨ runtime |


---

## æ ¸å¿ƒä»“åº“æ¶æ„å›¾ / Core Repositories Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    @objectstack/spec                            â”‚
â”‚              Protocol Layer (Zod Schemas)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Data    â”‚ UI      â”‚ System  â”‚ API     â”‚ AI              â”‚  â”‚
â”‚  â”‚ Protocolâ”‚ Protocolâ”‚ Protocolâ”‚ Protocolâ”‚ Protocol         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â†“ import
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    @objectstack/core                            â”‚
â”‚              Microkernel (Plugin Loader + DI)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ObjectKernel  â”‚ Plugin System â”‚ DI Container â”‚ Hooks    â”‚  â”‚
â”‚  â”‚ Logger        â”‚ Lifecycle     â”‚ Contracts                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ import                â†“ import
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  @objectstack/objectql    â”‚    â”‚ @objectstack/   â”‚
    â”‚  Query Engine             â”‚    â”‚ types           â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ SQL Builder           â”‚ â”‚    â”‚ â”‚ Runtime     â”‚ â”‚
    â”‚ â”‚ AST Parser            â”‚ â”‚    â”‚ â”‚ Interfaces  â”‚ â”‚
    â”‚ â”‚ Query Optimizer       â”‚ â”‚    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â”‚ â”‚ Driver Abstraction    â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ import
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  @objectstack/runtime     â”‚
    â”‚  Runtime Environment      â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ HTTP Server           â”‚ â”‚
    â”‚ â”‚ Event Bus             â”‚ â”‚
    â”‚ â”‚ â”‚ Middleware Stack      â”‚ â”‚
    â”‚ â”‚ Worker Pool           â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ import      â†“ import
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ @objectstack/ â”‚   â”‚ @objectstack/ â”‚
    â”‚ client        â”‚   â”‚ cli           â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ API Clientâ”‚ â”‚   â”‚ â”‚ Scaffold  â”‚ â”‚
    â”‚ â”‚ Type-safe â”‚ â”‚   â”‚ â”‚ Migration â”‚ â”‚
    â”‚ â”‚ React Hookâ”‚ â”‚   â”‚ â”‚ Codegen   â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


---

## ä»“åº“ 1: @objectstack/core - å¾®å†…æ ¸

### 1.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: æä¾›æ’ä»¶åŒ–çš„å¾®å†…æ ¸æ¶æ„ï¼Œç®¡ç†æ’ä»¶ç”Ÿå‘½å‘¨æœŸã€ä¾èµ–æ³¨å…¥å’Œäº‹ä»¶é€šä¿¡ã€‚

**Core Mission**: Provide a plugin-based microkernel architecture managing plugin lifecycle, dependency injection, and event communication.

### 1.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ / Completed**:
- ObjectKernel ç±»ï¼ˆæ’ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼‰
- æ’ä»¶ä¾èµ–è§£æï¼ˆæ‹“æ‰‘æ’åºï¼‰
- æœåŠ¡æ³¨å†Œè¡¨ï¼ˆä¾èµ–æ³¨å…¥ï¼‰
- Hook ç³»ç»Ÿï¼ˆäº‹ä»¶é€šä¿¡ï¼‰
- Logger æŠ½è±¡ï¼ˆpino é›†æˆï¼‰
- åŸºç¡€å¥‘çº¦æ¥å£ï¼ˆHTTP Server, Data Engine, Loggerï¼‰

ğŸŸ¡ **éƒ¨åˆ†å®Œæˆ / Partially Completed**:
- æµ‹è¯•è¦†ç›–ç‡ï¼ˆçº¦ 60%ï¼‰
- é”™è¯¯å¤„ç†æœºåˆ¶

ğŸ”´ **æœªå®ç° / Not Implemented**:
- æ’ä»¶çƒ­é‡è½½
- æ’ä»¶æ²™ç®±éš”ç¦»
- æ€§èƒ½ç›‘æ§
- å¥åº·æ£€æŸ¥
- æ’ä»¶ç‰ˆæœ¬ç®¡ç†

### 1.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½ / Essential Features

- [ ] **æ’ä»¶åŠ è½½å™¨å¢å¼º**
  - [ ] æ”¯æŒå¼‚æ­¥æ’ä»¶åŠ è½½
  - [ ] æ’ä»¶ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥
  - [ ] æ’ä»¶ç­¾åéªŒè¯ï¼ˆå®‰å…¨æ€§ï¼‰
  - [ ] æ’ä»¶é…ç½®éªŒè¯ï¼ˆä½¿ç”¨ Zodï¼‰

- [ ] **ä¾èµ–æ³¨å…¥ç³»ç»Ÿä¼˜åŒ–**
  - [ ] æ”¯æŒå·¥å‚å‡½æ•°æ³¨å†Œ
  - [ ] æ”¯æŒå•ä¾‹/ç¬æ€/ä½œç”¨åŸŸæœåŠ¡
  - [ ] å¾ªç¯ä¾èµ–æ£€æµ‹å’ŒæŠ¥å‘Š
  - [ ] å»¶è¿ŸåŠ è½½æœåŠ¡

- [ ] **ç”Ÿå‘½å‘¨æœŸç®¡ç†å®Œå–„**
  - [ ] ä¼˜é›…å…³é—­ï¼ˆGraceful Shutdownï¼‰
  - [ ] æ’ä»¶å¯åŠ¨è¶…æ—¶æ§åˆ¶
  - [ ] å¯åŠ¨å¤±è´¥å›æ»šæœºåˆ¶
  - [ ] æ’ä»¶å¥åº·æ£€æŸ¥

#### P1 - é‡è¦åŠŸèƒ½ / Important Features

- [ ] **æ’ä»¶çƒ­é‡è½½**: ç›‘å¬æ’ä»¶æ–‡ä»¶å˜åŒ–ã€å®‰å…¨çš„æ’ä»¶å¸è½½
- [ ] **æ€§èƒ½ç›‘æ§**: æ’ä»¶åˆå§‹åŒ–æ—¶é—´è·Ÿè¸ªã€æœåŠ¡è°ƒç”¨æ€§èƒ½ç»Ÿè®¡
- [ ] **é”™è¯¯å¤„ç†ä¸æ¢å¤**: æ’ä»¶é”™è¯¯éš”ç¦»ã€é”™è¯¯ä¸ŠæŠ¥æœºåˆ¶

#### P2 - å¯é€‰åŠŸèƒ½ / Optional Features

- [ ] **æ’ä»¶æ²™ç®±**: æƒé™æ§åˆ¶ç³»ç»Ÿã€èµ„æºä½¿ç”¨é™åˆ¶
- [ ] **è°ƒè¯•å·¥å…·**: æ’ä»¶ä¾èµ–å…³ç³»å¯è§†åŒ–ã€å®æ—¶æ—¥å¿—æŸ¥çœ‹

---

## ä»“åº“ 2: @objectstack/objectql - æŸ¥è¯¢å¼•æ“

### 2.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: æä¾›ç»Ÿä¸€çš„æŸ¥è¯¢æŠ½è±¡å±‚ï¼Œå°† ObjectStack Query AST è½¬æ¢ä¸ºç‰¹å®šæ•°æ®åº“çš„ SQL è¯­å¥ã€‚

**Core Mission**: Provide a unified query abstraction layer that converts ObjectStack Query AST to database-specific SQL statements.

### 2.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ**: SchemaRegistryã€ObjectStackProtocolImplementationã€ObjectQL å¼•æ“åŸºç¡€æ¡†æ¶

ğŸ”´ **æœªå®ç°**: SQL æ„å»ºå™¨ã€æŸ¥è¯¢ä¼˜åŒ–å™¨ã€å¤æ‚ AST è§£æã€é©±åŠ¨æŠ½è±¡å±‚ã€æŸ¥è¯¢è®¡åˆ’å™¨ã€æŸ¥è¯¢ç¼“å­˜

### 2.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½

- [ ] **SQL æ„å»ºå™¨**
  - [ ] SELECT/WHERE/ORDER BY/LIMIT/OFFSET
  - [ ] JOIN æ”¯æŒï¼ˆLookup å­—æ®µï¼‰
  - [ ] GROUP BY + HAVINGï¼ˆèšåˆæŸ¥è¯¢ï¼‰
  - [ ] å­æŸ¥è¯¢æ”¯æŒã€çª—å£å‡½æ•°æ”¯æŒ

- [ ] **AST è§£æå™¨**
  - [ ] Filter ASTï¼ˆé€»è¾‘/æ¯”è¾ƒ/ç‰¹æ®Šè¿ç®—ç¬¦ï¼‰
  - [ ] Sort/Aggregation/Window Function AST
  - [ ] Expression AST è§£æ

- [ ] **é©±åŠ¨æŠ½è±¡å±‚**
  - [ ] é©±åŠ¨æ¥å£å®šä¹‰ï¼ˆåŸºäº @objectstack/specï¼‰
  - [ ] æŸ¥è¯¢èƒ½åŠ›åå•†
  - [ ] æ–¹è¨€æ”¯æŒï¼ˆPostgreSQL, MySQL, SQLite, MSSQLï¼‰
  - [ ] äº‹åŠ¡æ”¯æŒæ¥å£

#### P1 - é‡è¦åŠŸèƒ½

- [ ] **æŸ¥è¯¢ä¼˜åŒ–å™¨**: æŸ¥è¯¢é‡å†™è§„åˆ™ã€ç´¢å¼•æ¨èã€è¿æ¥é¡ºåºä¼˜åŒ–
- [ ] **æŸ¥è¯¢è®¡åˆ’å™¨**: æ‰§è¡Œè®¡åˆ’ç”Ÿæˆã€æˆæœ¬ä¼°ç®—
- [ ] **æŸ¥è¯¢ç¼“å­˜**: æŸ¥è¯¢ç»“æœç¼“å­˜ã€ç¼“å­˜å¤±æ•ˆç­–ç•¥

#### P2 - å¯é€‰åŠŸèƒ½

- [ ] **é«˜çº§æŸ¥è¯¢ç‰¹æ€§**: å…¨æ–‡æœç´¢ã€åœ°ç†ç©ºé—´æŸ¥è¯¢ã€JSON æŸ¥è¯¢
- [ ] **æŸ¥è¯¢è°ƒè¯•**: æŸ¥è¯¢æ‰§è¡Œæ—¥å¿—ã€SQL é¢„è§ˆã€æ€§èƒ½åˆ†æ

---

## ä»“åº“ 3: @objectstack/runtime - è¿è¡Œæ—¶ç¯å¢ƒ

### 3.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: æä¾›å®Œæ•´çš„æœåŠ¡å™¨è¿è¡Œæ—¶ç¯å¢ƒï¼Œé›†æˆ HTTP æœåŠ¡å™¨ã€äº‹ä»¶æ€»çº¿ã€ä¸­é—´ä»¶æ ˆå’Œå·¥ä½œå™¨æ± ã€‚

**Core Mission**: Provide a complete server runtime environment integrating HTTP server, event bus, middleware stack, and worker pool.

### 3.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ**: DriverPluginã€AppPlugin åŸºç¡€å¯¼å‡º

ğŸ”´ **æœªå®ç°**: HTTP æœåŠ¡å™¨ã€äº‹ä»¶æ€»çº¿ã€ä¸­é—´ä»¶ç³»ç»Ÿã€å·¥ä½œå™¨æ± ã€WebSocket/SSE

### 3.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½

- [ ] **HTTP æœåŠ¡å™¨**
  - [ ] åŸºäº Hono/Express çš„é€‚é…å™¨æ¨¡å¼
  - [ ] è·¯ç”±ç®¡ç†ã€è¯·æ±‚è§£æã€å“åº”åºåˆ—åŒ–
  - [ ] CORSã€å‹ç¼©ã€é™æ€æ–‡ä»¶æœåŠ¡

- [ ] **ä¸­é—´ä»¶ç³»ç»Ÿ**
  - [ ] ä¸­é—´ä»¶æ³¨å†Œå’Œæ‰§è¡Œ
  - [ ] é”™è¯¯/æ—¥å¿—/æ€§èƒ½ç›‘æ§ä¸­é—´ä»¶
  - [ ] è¯·æ±‚ IDã€å®‰å…¨å¤´ä¸­é—´ä»¶

- [ ] **äº‹ä»¶æ€»çº¿**
  - [ ] å‘å¸ƒ/è®¢é˜…æ¨¡å¼
  - [ ] åŒæ­¥/å¼‚æ­¥äº‹ä»¶ã€äº‹ä»¶ä¼˜å…ˆçº§
  - [ ] é”™è¯¯å¤„ç†

- [ ] **æ•°æ® API ç«¯ç‚¹**
  - [ ] RESTful API è·¯ç”±ï¼ˆGET/POST/PATCH/DELETEï¼‰
  - [ ] æ‰¹é‡æ“ä½œç«¯ç‚¹
  - [ ] å…ƒæ•°æ®ç«¯ç‚¹ã€å¥åº·æ£€æŸ¥ç«¯ç‚¹

#### P1 - é‡è¦åŠŸèƒ½

- [ ] **å·¥ä½œå™¨æ± **: åå°ä»»åŠ¡è°ƒåº¦ã€ä»»åŠ¡é˜Ÿåˆ—ã€å¹¶å‘æ§åˆ¶
- [ ] **å®æ—¶é€šä¿¡**: WebSocketã€SSEã€å®æ—¶æ•°æ®è®¢é˜…
- [ ] **ä¼šè¯ç®¡ç†**: ä¼šè¯å­˜å‚¨ã€Cookieã€JWT
- [ ] **è®¤è¯/æˆæƒ**: å¤šç­–ç•¥è®¤è¯ã€æƒé™æ£€æŸ¥ã€è§’è‰²ç®¡ç†

#### P2 - å¯é€‰åŠŸèƒ½

- [ ] **ç¼“å­˜å±‚**: HTTP ç¼“å­˜ã€å†…å­˜/Redis ç¼“å­˜
- [ ] **é™æµ**: è¯·æ±‚/IP/ç”¨æˆ·é™æµ
- [ ] **ç›‘æ§ä¸è¿½è¸ª**: è¯·æ±‚è¿½è¸ªã€OpenTelemetry é›†æˆ

---

## ä»“åº“ 4: @objectstack/client - å®¢æˆ·ç«¯ SDK

### 4.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: æä¾›ç±»å‹å®‰å…¨çš„å®¢æˆ·ç«¯ SDKï¼Œæ”¯æŒæµè§ˆå™¨å’Œ Node.js ç¯å¢ƒï¼ŒåŒ…å« React Hooks é›†æˆã€‚

**Core Mission**: Provide a type-safe client SDK supporting both browser and Node.js environments, with React Hooks integration.

### 4.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ**: ObjectStackClient åŸºç±»ã€åŸºç¡€ HTTPã€æ•°æ®/å…ƒæ•°æ®/è§†å›¾ APIã€æ‰¹é‡æ“ä½œã€ç¼“å­˜æ”¯æŒ

ğŸ”´ **æœªå®ç°**: ç±»å‹å®‰å…¨æŸ¥è¯¢æ„å»ºå™¨ã€React Hooksã€å®æ—¶æ•°æ®è®¢é˜…ã€ç¦»çº¿æ”¯æŒã€ä¹è§‚æ›´æ–°

### 4.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½

- [ ] **ç±»å‹å®‰å…¨æŸ¥è¯¢æ„å»ºå™¨**
  - [ ] é“¾å¼ APIï¼ˆFluent APIï¼‰
  - [ ] TypeScript ç±»å‹æ¨æ–­
  - [ ] Filter/Sort/Pagination/Select æ„å»ºå™¨

- [ ] **React Hooks**
  - [ ] useQueryã€useMutationã€useInfiniteQuery
  - [ ] useObjectã€useMetadata
  - [ ] è‡ªåŠ¨é‡æ–°éªŒè¯ã€ç¼“å­˜ç®¡ç†ã€ä¹è§‚æ›´æ–°

- [ ] **é”™è¯¯å¤„ç†**
  - [ ] æ ‡å‡†åŒ–é”™è¯¯æ ¼å¼
  - [ ] é”™è¯¯é‡è¯•ç­–ç•¥
  - [ ] ç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

#### P1 - é‡è¦åŠŸèƒ½

- [ ] **å®æ—¶æ•°æ®**: WebSocket å®¢æˆ·ç«¯ã€æ•°æ®è®¢é˜…ã€React Hook é›†æˆï¼ˆuseSubscriptionï¼‰
- [ ] **ç¦»çº¿æ”¯æŒ**: IndexedDB å­˜å‚¨ã€ç¦»çº¿é˜Ÿåˆ—ã€åŒæ­¥ç­–ç•¥
- [ ] **ä¹è§‚æ›´æ–°**: æœ¬åœ°çŠ¶æ€ç«‹å³æ›´æ–°ã€å¤±è´¥å›æ»š
- [ ] **è¯·æ±‚ä¼˜åŒ–**: è¯·æ±‚å»é‡ã€è¯·æ±‚åˆå¹¶ã€è‡ªåŠ¨é‡è¯•

#### P2 - å¯é€‰åŠŸèƒ½

- [ ] **Vue Composables**: useQueryã€useMutationã€useSubscription
- [ ] **Svelte Stores**: queryStoreã€mutationStore
- [ ] **DevTools é›†æˆ**: è¯·æ±‚æ—¥å¿—ã€ç¼“å­˜æŸ¥çœ‹ã€æ€§èƒ½åˆ†æ

---

## ä»“åº“ 5: @objectstack/cli - å‘½ä»¤è¡Œå·¥å…·

### 5.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: æä¾›å¼€å‘è€…å·¥å…·ï¼ŒåŒ…æ‹¬é¡¹ç›®è„šæ‰‹æ¶ã€ä»£ç ç”Ÿæˆã€è¿ç§»ç®¡ç†å’Œéƒ¨ç½²å·¥å…·ã€‚

**Core Mission**: Provide developer tools including project scaffolding, code generation, migration management, and deployment tools.

### 5.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ**: CLI åŸºç¡€æ¡†æ¶ï¼ˆCommanderï¼‰ã€compile å‘½ä»¤

ğŸ”´ **æœªå®ç°**: initã€generateã€migrateã€devã€buildã€deployã€plugin å‘½ä»¤

### 5.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½

- [ ] **é¡¹ç›®è„šæ‰‹æ¶**
  - [ ] `os init` - åˆå§‹åŒ–æ–°é¡¹ç›®
  - [ ] é¡¹ç›®æ¨¡æ¿é€‰æ‹©ã€ä¾èµ–å®‰è£…ã€Git åˆå§‹åŒ–
  - [ ] é…ç½®æ–‡ä»¶ç”Ÿæˆã€äº¤äº’å¼å‘å¯¼

- [ ] **ä»£ç ç”Ÿæˆ**
  - [ ] `os generate object/view/plugin/api`
  - [ ] TypeScript ä»£ç ç”Ÿæˆ
  - [ ] åŸºäºæ¨¡æ¿çš„ç”Ÿæˆ

- [ ] **å¼€å‘æœåŠ¡å™¨**
  - [ ] `os dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨
  - [ ] çƒ­é‡è½½ã€æ–‡ä»¶ç›‘å¬ã€å®æ—¶ç¼–è¯‘

- [ ] **æ„å»ºå·¥å…·**
  - [ ] `os build` - ç”Ÿäº§æ„å»º
  - [ ] TypeScript ç¼–è¯‘ã€ä»£ç ä¼˜åŒ–

#### P1 - é‡è¦åŠŸèƒ½

- [ ] **è¿ç§»ç®¡ç†**
  - [ ] `os migrate create/up/down/status`
  - [ ] è¿ç§»å†å²è®°å½•ã€æ•°æ®åº“ Schema åŒæ­¥

- [ ] **æ’ä»¶ç®¡ç†**
  - [ ] `os plugin add/remove/list/search`
  - [ ] ç‰ˆæœ¬ç®¡ç†

- [ ] **éƒ¨ç½²å·¥å…·**
  - [ ] `os deploy` - éƒ¨ç½²åº”ç”¨
  - [ ] ç¯å¢ƒé…ç½®ã€å¥åº·æ£€æŸ¥ã€å›æ»šæ”¯æŒ

#### P2 - å¯é€‰åŠŸèƒ½

- [ ] **æµ‹è¯•å·¥å…·**: `os test`ã€æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- [ ] **è¯Šæ–­å·¥å…·**: `os doctor`ã€`os inspect`ã€`os debug`
- [ ] **æ•°æ®ç®¡ç†**: `os seed`ã€`os import`ã€`os export`

---

## ä»“åº“ 6: @objectstack/types - å…±äº«ç±»å‹

### 6.1 ä»“åº“èŒè´£ / Repository Responsibilities

**æ ¸å¿ƒä½¿å‘½**: å®šä¹‰è¿è¡Œæ—¶ç¯å¢ƒçš„ TypeScript æ¥å£ï¼Œé¿å…å¾ªç¯ä¾èµ–ï¼Œæä¾›æ¸…æ™°çš„å¥‘çº¦ã€‚

**Core Mission**: Define TypeScript interfaces for runtime environment, avoid circular dependencies, and provide clear contracts.

### 6.2 å½“å‰å®ç°çŠ¶æ€ / Current Implementation Status

âœ… **å·²å®Œæˆ**: IKernelã€RuntimeContextã€RuntimePlugin æ¥å£

ğŸ”´ **æœªå®ç°**: å®Œæ•´çš„ Kernel å¥‘çº¦ã€Driver/Middleware/EventBus/Worker/HTTP Server æ¥å£

### 6.3 å¼€å‘å†…å®¹æ¸…å• / Development Checklist

#### P0 - å¿…éœ€åŠŸèƒ½

- [ ] **Kernel æ¥å£**: IKernelã€IPluginã€IPluginContextã€IServiceRegistryã€IHookRegistry
- [ ] **Runtime æ¥å£**: IRuntimeã€IMiddlewareã€IRouterã€IRequestContextã€IResponseContext
- [ ] **Driver æ¥å£**: IDriverã€IConnectionã€ITransactionã€IQueryResultã€IDriverCapabilities
- [ ] **Event Bus æ¥å£**: IEventBusã€IEventHandlerã€ISubscriptionã€IEventPayload
- [ ] **Worker æ¥å£**: IWorkerã€ITaskã€ITaskResultã€IWorkerPool

#### P1 - é‡è¦åŠŸèƒ½

- [ ] **HTTP æ¥å£**: IHTTPServerã€IRequestã€IResponseã€IRoute
- [ ] **Session æ¥å£**: ISessionã€ISessionStoreã€IUser
- [ ] **Cache æ¥å£**: ICacheã€ICacheEntryã€ICacheOptions

---

## å¼€å‘ä¼˜å…ˆçº§ä¸æ—¶é—´çº¿

### Phase 1: åŸºç¡€è®¾æ–½ (Q1 2026) - 2 ä¸ªæœˆ

**ç›®æ ‡**: å®Œæˆæ ¸å¿ƒä»“åº“çš„åŸºç¡€åŠŸèƒ½ï¼Œæ”¯æŒåŸºæœ¬çš„åº”ç”¨å¼€å‘ã€‚

| ä»“åº“ | ä¼˜å…ˆçº§ | å·¥ä½œé‡ | å…³é”®äº¤ä»˜ |
|---|:---:|:---:|---|
| **@objectstack/types** | P0 | 1 å‘¨ | æ‰€æœ‰æ ¸å¿ƒæ¥å£å®šä¹‰ |
| **@objectstack/core** | P0 | 3 å‘¨ | æ’ä»¶åŠ è½½ã€DIã€ç”Ÿå‘½å‘¨æœŸ |
| **@objectstack/objectql** | P0 | 4 å‘¨ | SQL æ„å»ºå™¨ã€AST è§£æã€é©±åŠ¨æŠ½è±¡ |
| **@objectstack/runtime** | P0 | 3 å‘¨ | HTTP æœåŠ¡å™¨ã€ä¸­é—´ä»¶ã€æ•°æ® API |
| **@objectstack/client** | P0 | 2 å‘¨ | åŸºç¡€ API å®¢æˆ·ç«¯ |
| **@objectstack/cli** | P0 | 1 å‘¨ | initã€generate åŸºç¡€å‘½ä»¤ |

**é‡Œç¨‹ç¢‘**: 
- âœ… å¯ä»¥åˆ›å»ºåŸºæœ¬çš„ ObjectStack åº”ç”¨
- âœ… å¯ä»¥å®šä¹‰ Object å’Œ View
- âœ… å¯ä»¥æ‰§è¡ŒåŸºæœ¬çš„ CRUD æ“ä½œ
- âœ… å¯ä»¥é€šè¿‡ CLI ç”Ÿæˆä»£ç 

### Phase 2: å¢å¼ºåŠŸèƒ½ (Q2 2026) - 2 ä¸ªæœˆ

**ç›®æ ‡**: æ·»åŠ ç”Ÿäº§çº§ç‰¹æ€§ï¼Œæå‡å¼€å‘ä½“éªŒã€‚

| ä»“åº“ | åŠŸèƒ½ | å·¥ä½œé‡ |
|---|---|:---:|
| **@objectstack/core** | æ’ä»¶çƒ­é‡è½½ã€æ€§èƒ½ç›‘æ§ | 2 å‘¨ |
| **@objectstack/objectql** | æŸ¥è¯¢ä¼˜åŒ–å™¨ã€æŸ¥è¯¢ç¼“å­˜ | 3 å‘¨ |
| **@objectstack/runtime** | WebSocketã€å·¥ä½œå™¨æ± ã€è®¤è¯ | 3 å‘¨ |
| **@objectstack/client** | React Hooksã€å®æ—¶æ•°æ® | 3 å‘¨ |
| **@objectstack/cli** | è¿ç§»ç®¡ç†ã€å¼€å‘æœåŠ¡å™¨ | 2 å‘¨ |

**é‡Œç¨‹ç¢‘**:
- âœ… æ”¯æŒå®æ—¶æ•°æ®åŒæ­¥
- âœ… æ”¯æŒåå°ä»»åŠ¡å¤„ç†
- âœ… ä¼˜ç§€çš„å¼€å‘ä½“éªŒï¼ˆçƒ­é‡è½½ã€React Hooksï¼‰
- âœ… ç”Ÿäº§ç¯å¢ƒå‡†å¤‡å°±ç»ª

### Phase 3: é«˜çº§ç‰¹æ€§ (Q3 2026) - 2 ä¸ªæœˆ

**ç›®æ ‡**: æ·»åŠ ä¼ä¸šçº§ç‰¹æ€§å’Œä¼˜åŒ–ã€‚

**é‡Œç¨‹ç¢‘**:
- âœ… ä¼ä¸šçº§å®‰å…¨å’Œæ€§èƒ½
- âœ… å¤šæ¡†æ¶æ”¯æŒï¼ˆReact, Vue, Svelteï¼‰
- âœ… å®Œæ•´çš„ DevOps å·¥å…·é“¾
- âœ… å¯è§‚æµ‹æ€§ï¼ˆç›‘æ§ã€è¿½è¸ªã€æ—¥å¿—ï¼‰

---

## æŠ€æœ¯æ ˆä¸å·¥å…·é“¾

### ç¼–ç¨‹è¯­è¨€ä¸æ¡†æ¶

| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|---|---|---|
| **TypeScript** | æ ¸å¿ƒå¼€å‘è¯­è¨€ | ^5.0.0 |
| **Node.js** | è¿è¡Œæ—¶ç¯å¢ƒ | ^20.0.0 |
| **Zod** | Schema éªŒè¯ | ^3.22.0 |
| **Pino** | æ—¥å¿—åº“ | ^8.0.0 |
| **Hono** | HTTP æ¡†æ¶ | ^4.0.0 |

### æµ‹è¯•å·¥å…·

- **Vitest**: å•å…ƒæµ‹è¯•
- **@testing-library/react**: React ç»„ä»¶æµ‹è¯•
- **Playwright**: E2E æµ‹è¯•
- **tsd**: TypeScript ç±»å‹æµ‹è¯•

### æ„å»ºå·¥å…·

- **tsup**: TypeScript æ„å»º
- **tsx**: TypeScript æ‰§è¡Œ
- **Changesets**: ç‰ˆæœ¬ç®¡ç†
- **pnpm**: åŒ…ç®¡ç†

### CI/CD

- **GitHub Actions**: è‡ªåŠ¨åŒ–æµç¨‹
- **CodeQL**: å®‰å…¨æ‰«æ
- **ESLint/Prettier**: ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–

---

## æ–‡æ¡£ä¸ç¤ºä¾‹

### æ¯ä¸ªä»“åº“å¿…éœ€æ–‡æ¡£

- **README.md**: ç®€ä»‹ã€å¿«é€Ÿå¼€å§‹ã€å®‰è£…æŒ‡å—
- **ARCHITECTURE.md**: æ¶æ„è®¾è®¡æ–‡æ¡£
- **API_REFERENCE.md**: å®Œæ•´ API æ–‡æ¡£
- **CONTRIBUTING.md**: è´¡çŒ®æŒ‡å—
- **CHANGELOG.md**: å˜æ›´æ—¥å¿—

### ç¤ºä¾‹é¡¹ç›®

- **basic**: åŸºç¡€ CRUD åº”ç”¨
- **crm**: CRM ç³»ç»Ÿ
- **todo**: ä»»åŠ¡ç®¡ç†åº”ç”¨
- **real-time-chat**: å®æ—¶èŠå¤©åº”ç”¨

---

## æˆåŠŸæŒ‡æ ‡

### ä»£ç è´¨é‡

- æµ‹è¯•è¦†ç›–ç‡: â‰¥ 80%
- TypeScript ä¸¥æ ¼æ¨¡å¼: âœ…
- é›¶å®‰å…¨æ¼æ´: âœ…
- æ–‡æ¡£è¦†ç›–ç‡: 100%

### æ€§èƒ½æŒ‡æ ‡

- æ’ä»¶åŠ è½½æ—¶é—´: < 100ms
- SQL æ„å»ºæ—¶é—´: < 10ms
- API å“åº”æ—¶é—´: < 50ms
- é¦–æ¬¡æ¸²æŸ“æ—¶é—´: < 1s

### å¼€å‘ä½“éªŒ

- ä» `os init` åˆ°è¿è¡Œåº”ç”¨: < 5 åˆ†é’Ÿ
- çƒ­é‡è½½æ—¶é—´: < 2 ç§’
- ç±»å‹æ£€æŸ¥è¦†ç›–ç‡: 100%
- API è‡ªåŠ¨è¡¥å…¨: 100%

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. âœ… å®¡æŸ¥æœ¬è§„åˆ’æ–‡æ¡£
2. åˆ›å»ºå„ä»“åº“çš„ GitHub Issues
3. è®¾ç½® GitHub Projects çœ‹æ¿
4. åˆ†é…å¼€å‘ä»»åŠ¡
5. å¼€å§‹ Phase 1 å¼€å‘

---

**ç‰ˆæœ¬å†å² / Version History**:
- v1.0 (2026-01-30): åˆå§‹ç‰ˆæœ¬ï¼Œå®šä¹‰ 6 ä¸ªæ ¸å¿ƒä»“åº“çš„å®Œæ•´å¼€å‘æ¸…å•
