---
title: Protocol Reference
description: Complete reference of all 123 ObjectStack protocol specifications
---

# Protocol Reference

This is the complete reference for all protocol specifications in the ObjectStack ecosystem. Each protocol is implemented as a Zod schema providing runtime validation and TypeScript type safety.

<Callout type="tip">
**New:** Check the [Implementation Status Matrix](./implementation-status) to see which protocols are production-ready.
</Callout>

## Quick Navigation

| Module | Protocols | Description |
| :--- | :---: | :--- |
| [Data Protocol](#data-protocol) | 16 | Core business logic and data modeling (ObjectQL) |
| [UI Protocol](#ui-protocol) | 10 | User interface definitions and interactions (ObjectUI) |
| [System Protocol](#system-protocol) | 39 | Runtime environment and platform capabilities (ObjectOS) |
| [AI Protocol](#ai-protocol) | 12 | AI/ML integration and agent orchestration |
| [API Protocol](#api-protocol) | 13 | Standardized API contracts and communication |
| [Automation Protocol](#automation-protocol) | 7 | Workflow automation and integration |
| [Auth Protocol](#auth-protocol) | 6 | Identity, authentication, and authorization |
| [Permission Protocol](#permission-protocol) | 4 | Access control and security policies |
| [Hub Protocol](#hub-protocol) | 6 | Marketplace and multi-tenancy |
| [Integration Protocol](#integration-protocol) | 5 | External system connectors and adapters |
| [QA Protocol](#qa-protocol) | 1 | Testing and quality assurance |
| [Contracts](#contracts) | 9 | TypeScript contract interfaces |
| [Shared Protocol](#shared-protocol) | 3 | Common utilities and identifiers |
| [Stack Protocol](#stack-protocol) | 1 | Root stack definition |

**Total: 123 protocols**

---

## Data Protocol (ObjectQL)

**Location:** `packages/spec/src/data/`  
**Count:** 16 protocols

Defines the "Shape of Data" and business logic.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `field.zod.ts` | `FieldSchema` | Field definitions with 44 types (text, number, select, lookup, formula, vector, location, etc.) |
| `object.zod.ts` | `ObjectSchema` | Object/table definitions with fields, indexes, and capabilities |
| `query.zod.ts` | `QuerySchema` | Abstract query AST supporting window functions, HAVING, DISTINCT, subqueries |
| `validation.zod.ts` | `ValidationRuleSchema` | Validation rules for data integrity |
| `filter.zod.ts` | `FilterSchema` | Query filtering and conditions |
| `dataset.zod.ts` | `DatasetSchema` | Dataset definitions for reporting and analytics |
| `mapping.zod.ts` | `FieldMappingSchema` | Field mapping configurations for data transformation |
| `hook.zod.ts` | `HookSchema` | Lifecycle hooks (before/after insert, update, delete) |
| `data-engine.zod.ts` | `DataEngineSchema` | Data engine configuration and capabilities |
| `driver.zod.ts` | `DriverSchema` | Generic database driver interface and capabilities |
| `driver-sql.zod.ts` | `SQLDriverSchema` | SQL-specific driver configuration |
| `driver-nosql.zod.ts` | `NoSQLDriverSchema` | NoSQL-specific driver configuration |
| `document.zod.ts` | `DocumentSchema` | Document-oriented data structures |
| `external-lookup.zod.ts` | `ExternalLookupSchema` | External data source lookup configurations |
| `driver/postgres.zod.ts` | `PostgresConfigSchema` | PostgreSQL driver configuration |
| `driver/mongo.zod.ts` | `MongoConfigSchema` | MongoDB driver configuration |

**Key Features:**
- 44 field types including AI/ML vectors and GPS locations
- Advanced query capabilities (window functions, HAVING, DISTINCT, subqueries)
- Validation rules and formulas
- Lifecycle hooks for business logic

**Learn more:** [ObjectQL Documentation](/docs/objectql)

---

## UI Protocol (ObjectUI)

**Location:** `packages/spec/src/ui/`  
**Count:** 10 protocols

Defines the "Shape of Interaction" for rendering interfaces.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `view.zod.ts` | `ViewSchema` | List views (grid, kanban, calendar, gantt) and form layouts |
| `page.zod.ts` | `PageSchema` | FlexiPage layouts with regions and components |
| `app.zod.ts` | `AppSchema` | Application structure and navigation menus |
| `dashboard.zod.ts` | `DashboardSchema` | Dashboard layouts with grid-based widgets |
| `report.zod.ts` | `ReportSchema` | Report definitions (tabular, summary, matrix, chart) |
| `action.zod.ts` | `ActionSchema` | UI actions (buttons, scripts, URLs, flows) |
| `component.zod.ts` | `ComponentSchema` | Reusable UI components |
| `block.zod.ts` | `BlockSchema` | UI block definitions |
| `theme.zod.ts` | `ThemeSchema` | Theming (colors, typography, breakpoints, animations) |
| `widget.zod.ts` | `WidgetSchema` | Custom field widgets with lifecycle hooks |

**Key Features:**
- Server-driven UI with multiple view types
- Flexible page layouts with component regions
- Rich dashboard and reporting capabilities
- Comprehensive theming system

**Learn more:** [ObjectUI Documentation](/docs/objectui)

---

## System Protocol (ObjectOS)

**Location:** `packages/spec/src/system/`  
**Count:** 39 protocols

Defines the "Runtime Environment" and platform capabilities.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `manifest.zod.ts` | `ManifestSchema` | Application/plugin manifest (`objectstack.config.ts`) with 7 package types |
| `datasource.zod.ts` | `DatasourceSchema` | Data source connection configurations |
| `context.zod.ts` | `KernelContextSchema` | Kernel execution context with user, org, tenant info |
| `plugin.zod.ts` | `PluginSchema` | Plugin lifecycle and interface definitions |
| `plugin-capability.zod.ts` | `PluginCapabilitySchema` | Plugin capability declarations |
| `plugin-lifecycle-events.zod.ts` | `PluginLifecycleEventsSchema` | Plugin lifecycle event definitions |
| `plugin-validator.zod.ts` | `PluginValidatorSchema` | Plugin validation rules |
| `startup-orchestrator.zod.ts` | `StartupOrchestratorSchema` | System startup orchestration |
| `service-registry.zod.ts` | `ServiceRegistrySchema` | Service discovery and registration |
| `events.zod.ts` | `EventSchema` | Event bus and pub/sub patterns |
| `job.zod.ts` | `JobSchema` | Background job scheduling (cron, interval, delayed) |
| `audit.zod.ts` | `AuditEventSchema` | Audit logging for compliance |
| `logging.zod.ts` | `LoggingSchema` | Structured logging configuration |
| `metrics.zod.ts` | `MetricsSchema` | Application metrics and monitoring |
| `tracing.zod.ts` | `TracingSchema` | Distributed tracing configuration |
| `translation.zod.ts` | `TranslationSchema` | i18n/l10n support |
| `feature.zod.ts` | `FeatureFlagSchema` | Feature flag definitions |
| `cache.zod.ts` | `CacheSchema` | Caching layer configuration |
| `object-storage.zod.ts` | `ObjectStorageSchema` | Object storage configuration |
| `message-queue.zod.ts` | `MessageQueueSchema` | Message queue integration |
| `search-engine.zod.ts` | `SearchEngineSchema` | Full-text search configuration |
| `encryption.zod.ts` | `EncryptionSchema` | Encryption and key management |
| `compliance.zod.ts` | `ComplianceSchema` | Compliance and regulatory controls |
| `masking.zod.ts` | `MaskingSchema` | Data masking rules |
| `notification.zod.ts` | `NotificationSchema` | Notification service configuration |
| `change-management.zod.ts` | `ChangeManagementSchema` | Change tracking and deployment |
| `collaboration.zod.ts` | `CollaborationSchema` | Real-time collaboration features |
| `http-server.zod.ts` | `HTTPServerSchema` | HTTP server configuration |

**Package Types:**
- `app` - Business application package
- `plugin` - General-purpose functionality extension
- `driver` - Database/external service adapter
- `module` - Reusable code library
- `objectql` - Core data engine implementation
- `gateway` - API protocol entry point (GraphQL, REST, RPC)
- `adapter` - Runtime container (Express, Hono, Fastify, Serverless)

**Learn more:** [ObjectOS Documentation](/docs/objectos)

---

## AI Protocol

**Location:** `packages/spec/src/ai/`  
**Count:** 12 protocols

Defines AI agent integration capabilities.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `agent.zod.ts` | `AgentSchema` | AI agent definitions and configurations |
| `agent-action.zod.ts` | `AgentActionSchema` | Actions that agents can perform |
| `model-registry.zod.ts` | `ModelRegistrySchema` | LLM registry and selection |
| `rag-pipeline.zod.ts` | `RAGPipelineSchema` | Retrieval-augmented generation |
| `nlq.zod.ts` | `NLQSchema` | Natural language query processing (NL to ObjectQL) |
| `conversation.zod.ts` | `ConversationSchema` | Conversation management and memory |
| `cost.zod.ts` | `CostTrackingSchema` | AI cost tracking and budget management |
| `predictive.zod.ts` | `PredictiveModelSchema` | Predictive analytics models |
| `orchestration.zod.ts` | `OrchestrationSchema` | AI-powered workflow automation |
| `feedback-loop.zod.ts` | `FeedbackLoopSchema` | AI feedback loop and learning |
| `devops-agent.zod.ts` | `DevOpsAgentSchema` | DevOps automation agents |

**Learn more:** [AI Protocol Reference](/docs/references/ai)

---

## API Protocol

**Location:** `packages/spec/src/api/`  
**Count:** 13 protocols

Defines standardized API contracts.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `contract.zod.ts` | `APIContractSchema` | API endpoint definitions and specifications |
| `endpoint.zod.ts` | `EndpointSchema` | REST endpoint definitions with rate limiting |
| `router.zod.ts` | `RouterSchema` | API routing configuration |
| `odata.zod.ts` | `ODataSchema` | OData query protocol support |
| `graphql.zod.ts` | `GraphQLSchema` | GraphQL API configuration |
| `realtime.zod.ts` | `RealtimeSchema` | WebSocket/SSE real-time subscriptions |
| `websocket.zod.ts` | `WebSocketSchema` | WebSocket protocol configuration |
| `discovery.zod.ts` | `DiscoverySchema` | API discovery and introspection |
| `batch.zod.ts` | `BatchSchema` | Batch API request processing |
| `http-cache.zod.ts` | `HTTPCacheSchema` | HTTP caching strategies |
| `errors.zod.ts` | `ErrorSchema` | Standardized error responses |
| `view-storage.zod.ts` | `ViewStorageSchema` | View state persistence |
| `protocol.zod.ts` | `ProtocolSchema` | API protocol definitions |
| `rest-server.zod.ts` | `RESTServerSchema` | REST server configuration |

**Learn more:** [API Protocol Reference](/docs/references/api)

---

## Automation Protocol

**Location:** `packages/spec/src/automation/`  
**Count:** 7 protocols

Defines workflow automation and business process management.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `workflow.zod.ts` | `WorkflowSchema` | State machine and approval processes |
| `flow.zod.ts` | `FlowSchema` | Visual logic orchestration (autolaunched, screen, schedule) |
| `approval.zod.ts` | `ApprovalSchema` | Approval process configuration |
| `webhook.zod.ts` | `WebhookSchema` | Webhook definitions and handlers |
| `etl.zod.ts` | `ETLSchema` | Extract, transform, load pipelines |
| `trigger-registry.zod.ts` | `TriggerRegistrySchema` | Event-driven automation triggers |
| `sync.zod.ts` | `SyncSchema` | Data synchronization configurations |

**Learn more:** [Automation Protocol Reference](/docs/references/automation)

---

## Hub Protocol

**Location:** `packages/spec/src/hub/`  
**Count:** 6 protocols

Defines marketplace and multi-tenancy capabilities.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `marketplace.zod.ts` | `MarketplaceSchema` | Plugin marketplace configuration |
| `plugin-registry.zod.ts` | `PluginRegistrySchema` | Plugin registry and versioning |
| `composer.zod.ts` | `ComposerSchema` | Application composition tools |
| `space.zod.ts` | `SpaceSchema` | Workspace and environment management |
| `tenant.zod.ts` | `TenantSchema` | Multi-tenancy configuration |
| `license.zod.ts` | `LicenseSchema` | Licensing and entitlement management |

**Learn more:** [Hub Protocol Reference](/docs/references/hub)

---

## Integration Protocol

**Location:** `packages/spec/src/integration/`  
**Count:** 5 protocols

Defines external system connectors and adapters.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `connector.zod.ts` | `ConnectorSchema` | Generic connector interface |
| `connector/saas.zod.ts` | `SaaSConnectorSchema` | SaaS platform connectors (Salesforce, HubSpot, etc.) |
| `connector/database.zod.ts` | `DatabaseConnectorSchema` | Database connection adapters |
| `connector/file-storage.zod.ts` | `FileStorageConnectorSchema` | Cloud storage connectors (S3, Azure Blob, etc.) |
| `connector/message-queue.zod.ts` | `MessageQueueConnectorSchema` | Message queue integrations (RabbitMQ, Kafka, etc.) |

**Learn more:** [Integration Protocol Reference](/docs/references/integration)

---

## QA Protocol

**Location:** `packages/spec/src/qa/`  
**Count:** 1 protocol

Defines testing and quality assurance capabilities.

| File | Schema | Purpose |
| :--- | :--- | :--- |
| `testing.zod.ts` | `TestSuiteSchema` | Test suites, scenarios, steps, actions, and assertions |

**Key Features:**
- Declarative test definitions with setup/teardown
- Action-based testing (create, update, delete, API calls)
- Comprehensive assertion operators
- Test context and variable capture between steps
- Permission testing with user impersonation

**Learn more:** [QA Protocol Reference](/docs/references/qa)

---

## Contracts

**Location:** `packages/spec/src/contracts/`  
**Count:** 9 contracts

Defines TypeScript contract interfaces for plugin implementations.

| File | Interface | Purpose |
| :--- | :--- | :--- |
| `data-engine.ts` | `IDataEngine`, `DriverInterface` | Standard data persistence interface |
| `plugin-validator.ts` | `IPluginValidator` | Plugin validation interface |
| `logger.ts` | `ILogger` | Logging interface |
| `http-server.ts` | `IHTTPServer` | HTTP server interface |
| `schema-driver.ts` | `ISchemaDriver` | Schema management interface |
| `service-registry.ts` | `IServiceRegistry` | Service discovery interface |
| `plugin-lifecycle-events.ts` | Plugin lifecycle events | Plugin event interfaces |
| `startup-orchestrator.ts` | `IStartupOrchestrator` | Startup orchestration interface |

**Key Principles:**
- **Dependency Inversion**: Plugins depend on abstract interfaces
- **Type Safety**: Compile-time guarantees for implementations
- **Extensibility**: Easy to extend and customize behavior

**Learn more:** [Contracts Reference](/docs/references/contracts)

---

## Recent Additions (2026-01-27)

**ObjectQL Advanced Features:**
- ✅ **Window Functions** - ROW_NUMBER, RANK, LAG, LEAD, and aggregate window functions
- ✅ **HAVING Clause** - Filter aggregated results in GROUP BY queries
- ✅ **DISTINCT Queries** - Full support for SELECT DISTINCT
- ✅ **Subqueries** - Nested queries in JOIN clauses
- ✅ **Vector Field Type** - AI/ML embeddings for semantic search and RAG workflows
- ✅ **Location Field Type** - GPS coordinates for geospatial applications

---

## Schema Conventions

All schemas follow these conventions:

### Naming
- **Configuration Keys (TS Props):** `camelCase` (e.g., `maxLength`, `referenceFilters`)
- **Machine Names (Data Values):** `snake_case` (e.g., `name: 'project_task'`, `object: 'account'`)

### Validation
- All schemas use **Zod** for runtime validation
- TypeScript types are inferred via `z.infer<typeof Schema>`
- JSON schemas are auto-generated for IDE support

### Documentation
- Each schema includes comprehensive JSDoc comments
- Examples are provided for complex configurations
- Deprecated fields are marked with `@deprecated`

---

## Next Steps

<Cards>
  <Card 
    href="./implementation-status" 
    title="Implementation Status"
    description="See which protocols are production-ready"
  />
  <Card 
    href="./packages" 
    title="Package Reference"
    description="Explore the 10 ObjectStack packages"
  />
  <Card 
    href="./protocol-map" 
    title="Protocol Architecture"
    description="Understand protocol relationships"
  />
  <Card 
    href="./quick-reference" 
    title="Quick Reference"
    description="Fast protocol lookup table"
  />
</Cards>

- **Explore by Module:** Navigate to specific protocol sections above
- **See Examples:** Check [examples/crm](https://github.com/objectstack-ai/spec/tree/main/examples/crm) for real-world usage
- **Build Plugins:** Read [Writing Plugins](/docs/developers/writing-plugins)
- **Contribute:** Review [Contributing Guide](/docs/introduction/contributing)
