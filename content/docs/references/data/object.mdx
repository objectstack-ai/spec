---
title: Object
description: Object protocol schemas
---

# Object

<Callout type="info">
**Source:** `packages/spec/src/data/object.zod.ts`
</Callout>

## TypeScript Usage

```typescript
import { ApiMethodSchema, CDCConfigSchema, IndexSchema, ObjectSchema, ObjectCapabilitiesSchema, PartitioningConfigSchema, SoftDeleteConfigSchema, TenancyConfigSchema, VersioningConfigSchema } from '@objectstack/spec/data';
import type { ApiMethod, CDCConfig, Index, Object, ObjectCapabilities, PartitioningConfig, SoftDeleteConfig, TenancyConfig, VersioningConfig } from '@objectstack/spec/data';

// Validate data
const result = ApiMethodSchema.parse(data);
```

---

## ApiMethod

### Allowed Values

* `get`
* `list`
* `create`
* `update`
* `delete`
* `upsert`
* `bulk`
* `aggregate`
* `history`
* `search`
* `restore`
* `purge`
* `import`
* `export`

---

## CDCConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **enabled** | `boolean` | ✅ | Enable Change Data Capture |
| **events** | `Enum<'insert' \| 'update' \| 'delete'>[]` | ✅ | Event types to capture |
| **destination** | `string` | ✅ | Destination endpoint (e.g., "kafka://topic", "webhook://url") |

---

## Index

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **name** | `string` | optional | Index name (auto-generated if not provided) |
| **fields** | `string[]` | ✅ | Fields included in the index |
| **type** | `Enum<'btree' \| 'hash' \| 'gin' \| 'gist' \| 'fulltext'>` | optional | Index algorithm type |
| **unique** | `boolean` | optional | Whether the index enforces uniqueness |
| **partial** | `string` | optional | Partial index condition (SQL WHERE clause for conditional indexes) |

---

## Object

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **name** | `string` | ✅ | Machine unique key (snake_case). Immutable. |
| **label** | `string` | optional | Human readable singular label (e.g. "Account") |
| **pluralLabel** | `string` | optional | Human readable plural label (e.g. "Accounts") |
| **description** | `string` | optional | Developer documentation / description |
| **icon** | `string` | optional | Icon name (Lucide/Material) for UI representation |
| **tags** | `string[]` | optional | Categorization tags (e.g. "sales", "system", "reference") |
| **active** | `boolean` | optional | Is the object active and usable |
| **isSystem** | `boolean` | optional | Is system object (protected from deletion) |
| **abstract** | `boolean` | optional | Is abstract base object (cannot be instantiated) |
| **datasource** | `string` | optional | Target Datasource ID. "default" is the primary DB. |
| **tableName** | `string` | optional | Physical table/collection name in the target datasource |
| **fields** | `Record<string, object>` | ✅ | Field definitions map |
| **indexes** | `object[]` | optional | Database performance indexes |
| **tenancy** | `object` | optional | Multi-tenancy configuration for SaaS applications |
| **softDelete** | `object` | optional | Soft delete (trash/recycle bin) configuration |
| **versioning** | `object` | optional | Record versioning and history tracking configuration |
| **partitioning** | `object` | optional | Table partitioning configuration for performance |
| **cdc** | `object` | optional | Change Data Capture (CDC) configuration for real-time data streaming |
| **validations** | `object \| object \| object \| object \| object \| object \| object \| object \| object[]` | optional | Object-level validation rules |
| **titleFormat** | `string` | optional | Title expression (e.g. "`{name}` - `{code}`"). Overrides nameField. |
| **compactLayout** | `string[]` | optional | Primary fields for hover/cards/lookups |
| **search** | `object` | optional | Search engine configuration |
| **enable** | `object` | optional | Enabled system features modules |

---

## ObjectCapabilities

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **trackHistory** | `boolean` | optional | Enable field history tracking for audit compliance |
| **searchable** | `boolean` | optional | Index records for global search |
| **apiEnabled** | `boolean` | optional | Expose object via automatic APIs |
| **apiMethods** | `Enum<'get' \| 'list' \| 'create' \| 'update' \| 'delete' \| 'upsert' \| 'bulk' \| 'aggregate' \| 'history' \| 'search' \| 'restore' \| 'purge' \| 'import' \| 'export'>[]` | optional | Whitelist of allowed API operations |
| **files** | `boolean` | optional | Enable file attachments and document management |
| **feeds** | `boolean` | optional | Enable social feed, comments, and mentions (Chatter-like) |
| **activities** | `boolean` | optional | Enable standard tasks and events tracking |
| **trash** | `boolean` | optional | Enable soft-delete with restore capability |
| **mru** | `boolean` | optional | Track Most Recently Used (MRU) list for users |
| **clone** | `boolean` | optional | Allow record deep cloning |

---

## PartitioningConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **enabled** | `boolean` | ✅ | Enable table partitioning |
| **strategy** | `Enum<'range' \| 'hash' \| 'list'>` | ✅ | Partitioning strategy: range (date ranges), hash (consistent hashing), list (predefined values) |
| **key** | `string` | ✅ | Field name to partition by |
| **interval** | `string` | optional | Partition interval for range strategy (e.g., "1 month", "1 year") |

---

## SoftDeleteConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **enabled** | `boolean` | ✅ | Enable soft delete (trash/recycle bin) |
| **field** | `string` | optional | Field name for soft delete timestamp |
| **cascadeDelete** | `boolean` | optional | Cascade soft delete to related records |

---

## TenancyConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **enabled** | `boolean` | ✅ | Enable multi-tenancy for this object |
| **strategy** | `Enum<'shared' \| 'isolated' \| 'hybrid'>` | ✅ | Tenant isolation strategy: shared (single DB, row-level), isolated (separate DB per tenant), hybrid (mix) |
| **tenantField** | `string` | optional | Field name for tenant identifier |
| **crossTenantAccess** | `boolean` | optional | Allow cross-tenant data access (with explicit permission) |

---

## VersioningConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **enabled** | `boolean` | ✅ | Enable record versioning |
| **strategy** | `Enum<'snapshot' \| 'delta' \| 'event-sourcing'>` | ✅ | Versioning strategy: snapshot (full copy), delta (changes only), event-sourcing (event log) |
| **retentionDays** | `number` | optional | Number of days to retain old versions (undefined = infinite) |
| **versionField** | `string` | optional | Field name for version number/timestamp |

