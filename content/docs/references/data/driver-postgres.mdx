---
title: PostgreSQL Driver
description: PostgreSQL driver configuration schema
---

# PostgreSQL Driver

<Callout type="info">
**Source:** `packages/spec/src/data/driver/postgres.zod.ts`
</Callout>

## Overview

PostgreSQL driver configuration schema defines connection settings and options specific to PostgreSQL databases.

## TypeScript Usage

```typescript
import { PostgresConfigSchema } from '@objectstack/spec/data/driver/postgres';
import type { PostgresConfig } from '@objectstack/spec/data/driver/postgres';

// Validate PostgreSQL configuration
const config: PostgresConfig = PostgresConfigSchema.parse({
  database: 'myapp',
  host: 'localhost',
  port: 5432,
  username: 'postgres',
  password: 'secret',
  ssl: false,
});
```

---

## PostgresConfig

PostgreSQL connection configuration schema.

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **url** | `string` | optional | Connection URI. Format: postgresql://[user[:password]@][netloc][:port][/dbname][?param1=value1&...] |
| **database** | `string` | âœ… | Database name |
| **host** | `string` | optional | Hostname or IP address (default: 'localhost') |
| **port** | `number` | optional | Port number (default: 5432) |
| **username** | `string` | optional | Authentication username |
| **password** | `string` | optional | Authentication password |
| **schema** | `string` | optional | Default schema for tables (default: 'public') |
| **ssl** | `boolean \| object` | optional | Enable SSL/TLS connection |
| **applicationName** | `string` | optional | Sets the application_name configuration parameter |
| **max** | `number` | optional | Maximum number of clients in pool (default: 10) |
| **min** | `number` | optional | Minimum number of clients in pool (default: 0) |
| **idleTimeoutMillis** | `number` | optional | Idle timeout in milliseconds |
| **connectionTimeoutMillis** | `number` | optional | Connection timeout in milliseconds |
| **statementTimeout** | `number` | optional | Statement timeout in milliseconds |

### SSL Configuration

When `ssl` is an object, it can contain:

| Property | Type | Description |
| :--- | :--- | :--- |
| **rejectUnauthorized** | `boolean` | Whether to reject unauthorized certificates |
| **ca** | `string` | CA certificate |
| **key** | `string` | Client key |
| **cert** | `string` | Client certificate |

---

## Examples

### Basic Configuration

```typescript
const config: PostgresConfig = {
  database: 'crm',
  host: 'localhost',
  port: 5432,
  username: 'app_user',
  password: 'secure_password',
};
```

### Connection URI

```typescript
const config: PostgresConfig = {
  url: 'postgresql://user:password@localhost:5432/mydb',
  database: 'mydb', // Required even with URL
};
```

### SSL Configuration

```typescript
const config: PostgresConfig = {
  database: 'production',
  host: 'db.example.com',
  port: 5432,
  username: 'app_user',
  password: 'secure_password',
  ssl: {
    rejectUnauthorized: true,
    ca: '-----BEGIN CERTIFICATE-----\n...',
  },
};
```

### Connection Pool Configuration

```typescript
const config: PostgresConfig = {
  database: 'myapp',
  host: 'localhost',
  port: 5432,
  username: 'postgres',
  password: 'secret',
  max: 20, // Max 20 connections
  min: 5,  // Keep at least 5 connections
  idleTimeoutMillis: 30000, // Close idle connections after 30s
  connectionTimeoutMillis: 2000, // Timeout connection attempts after 2s
  statementTimeout: 5000, // Abort slow queries after 5s
};
```

---

## Related

- [Driver](/docs/references/data/driver) - Base driver protocol
- [Driver SQL](/docs/references/data/driver-sql) - SQL driver interface
- [Datasource](/docs/references/system/datasource) - Datasource configuration
