---
title: Sync
description: Sync protocol schemas
---

import { Card, Cards } from 'fumadocs-ui/components/card';
import { Callout } from 'fumadocs-ui/components/callout';

# Sync

<Callout type="info">
**Source:** `packages/spec/src/automation/sync.zod.ts`
</Callout>

## TypeScript Usage

```typescript
import { ConflictResolutionSchema, DataDestinationConfigSchema, DataSourceConfigSchema, DataSyncConfigSchema, SyncDirectionSchema, SyncExecutionResultSchema, SyncExecutionStatusSchema, SyncModeSchema } from '@objectstack/spec/automation';
import type { ConflictResolution, DataDestinationConfig, DataSourceConfig, DataSyncConfig, SyncDirection, SyncExecutionResult, SyncExecutionStatus, SyncMode } from '@objectstack/spec/automation';

// Validate data
const result = ConflictResolutionSchema.parse(data);
```

---

## ConflictResolution

### Allowed Values

* `source_wins`
* `destination_wins`
* `latest_wins`
* `manual`
* `merge`

---

## DataDestinationConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **object** | `string` | optional | ObjectStack object name |
| **connectorInstanceId** | `string` | optional | Connector instance ID |
| **operation** | `Enum<'insert' \| 'update' \| 'upsert' \| 'delete' \| 'sync'>` | ✅ | Sync operation |
| **mapping** | `Record<string, string> \| object[]` | optional | Field mappings |
| **externalResource** | `string` | optional | External resource ID |
| **matchKey** | `string[]` | optional | Match key fields |

---

## DataSourceConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **object** | `string` | optional | ObjectStack object name |
| **filters** | `any` | optional | Filter conditions |
| **fields** | `string[]` | optional | Fields to sync |
| **connectorInstanceId** | `string` | optional | Connector instance ID |
| **externalResource** | `string` | optional | External resource ID |

---

## DataSyncConfig

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **name** | `string` | ✅ | Sync configuration name (snake_case) |
| **label** | `string` | optional | Sync display name |
| **description** | `string` | optional | Sync description |
| **source** | `object` | ✅ | Data source |
| **destination** | `object` | ✅ | Data destination |
| **direction** | `Enum<'push' \| 'pull' \| 'bidirectional'>` | optional | Sync direction |
| **syncMode** | `Enum<'full' \| 'incremental' \| 'realtime'>` | optional | Sync mode |
| **conflictResolution** | `Enum<'source_wins' \| 'destination_wins' \| 'latest_wins' \| 'manual' \| 'merge'>` | optional | Conflict resolution |
| **schedule** | `string` | optional | Cron schedule |
| **enabled** | `boolean` | optional | Sync enabled |
| **changeTrackingField** | `string` | optional | Field for change tracking |
| **batchSize** | `integer` | optional | Batch size for processing |
| **retry** | `object` | optional | Retry configuration |
| **validation** | `object` | optional | Validation rules |
| **errorHandling** | `object` | optional | Error handling |
| **optimization** | `object` | optional | Performance optimization |
| **audit** | `object` | optional | Audit configuration |
| **tags** | `string[]` | optional | Sync tags |
| **metadata** | `Record<string, any>` | optional | Custom metadata |

---

## SyncDirection

### Allowed Values

* `push`
* `pull`
* `bidirectional`

---

## SyncExecutionResult

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **id** | `string` | ✅ | Execution ID |
| **syncName** | `string` | ✅ | Sync name |
| **status** | `Enum<'pending' \| 'running' \| 'completed' \| 'partial' \| 'failed' \| 'cancelled'>` | ✅ | Execution status |
| **startedAt** | `string` | ✅ | Start time |
| **completedAt** | `string` | optional | Completion time |
| **durationMs** | `number` | optional | Duration in ms |
| **stats** | `object` | optional | Execution statistics |
| **errors** | `object[]` | optional | Errors |
| **logs** | `string[]` | optional | Execution logs |

---

## SyncExecutionStatus

### Allowed Values

* `pending`
* `running`
* `completed`
* `partial`
* `failed`
* `cancelled`

---

## SyncMode

### Allowed Values

* `full`
* `incremental`
* `realtime`

