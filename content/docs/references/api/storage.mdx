---
title: Storage
description: Storage protocol schemas
---

{/* ⚠️  AUTO-GENERATED — DO NOT EDIT. Run build-docs.ts to regenerate. Hand-written docs go in content/docs/guides/. */}

Storage Service Protocol

Defines the API contract for client-side file operations.

Focuses on secure, direct-to-cloud uploads (Presigned URLs)

rather than proxying bytes through the API server.

<Callout type="info">
**Source:** `packages/spec/src/api/storage.zod.ts`
</Callout>

## TypeScript Usage

```typescript
import { CompleteUploadRequest, FileUploadResponse, GetPresignedUrlRequest, PresignedUrlResponse } from '@objectstack/spec/api';
import type { CompleteUploadRequest, FileUploadResponse, GetPresignedUrlRequest, PresignedUrlResponse } from '@objectstack/spec/api';

// Validate data
const result = CompleteUploadRequest.parse(data);
```

---

## CompleteUploadRequest

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **fileId** | `string` | ✅ | File ID returned from presigned request |
| **eTag** | `string` | optional | S3 ETag verification |


---

## FileUploadResponse

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **success** | `boolean` | ✅ | Operation success status |
| **error** | `Object` | optional | Error details if success is false |
| **meta** | `Object` | optional | Response metadata |
| **data** | `Object` | ✅ | Uploaded file metadata |


---

## GetPresignedUrlRequest

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **filename** | `string` | ✅ | Original filename |
| **mimeType** | `string` | ✅ | File MIME type |
| **size** | `number` | ✅ | File size in bytes |
| **scope** | `string` | ✅ | Target storage scope (e.g. user, private, public) |
| **bucket** | `string` | optional | Specific bucket override (admin only) |


---

## PresignedUrlResponse

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **success** | `boolean` | ✅ | Operation success status |
| **error** | `Object` | optional | Error details if success is false |
| **meta** | `Object` | optional | Response metadata |
| **data** | `Object` | ✅ |  |


---

