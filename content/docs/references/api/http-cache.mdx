---
title: Http Cache
description: Http Cache protocol schemas
---

# Http Cache

<Callout type="info">
**Source:** `packages/spec/src/api/http-cache.zod.ts`
</Callout>

## TypeScript Usage

```typescript
import { CacheControlSchema, CacheDirectiveSchema, CacheInvalidationRequestSchema, CacheInvalidationResponseSchema, CacheInvalidationTargetSchema, ETagSchema, MetadataCacheRequestSchema, MetadataCacheResponseSchema } from '@objectstack/spec/api';
import type { CacheControl, CacheDirective, CacheInvalidationRequest, CacheInvalidationResponse, CacheInvalidationTarget, ETag, MetadataCacheRequest, MetadataCacheResponse } from '@objectstack/spec/api';

// Validate data
const result = CacheControlSchema.parse(data);
```

---

## CacheControl

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **directives** | `Enum<'public' \| 'private' \| 'no-cache' \| 'no-store' \| 'must-revalidate' \| 'max-age'>[]` | ✅ | Cache control directives |
| **maxAge** | `number` | optional | Maximum cache age in seconds |
| **staleWhileRevalidate** | `number` | optional | Allow serving stale content while revalidating (seconds) |
| **staleIfError** | `number` | optional | Allow serving stale content on error (seconds) |

---

## CacheDirective

### Allowed Values

* `public`
* `private`
* `no-cache`
* `no-store`
* `must-revalidate`
* `max-age`

---

## CacheInvalidationRequest

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **target** | `Enum<'all' \| 'object' \| 'field' \| 'permission' \| 'layout' \| 'custom'>` | ✅ | What to invalidate |
| **identifiers** | `string[]` | optional | Specific resources to invalidate (e.g., object names) |
| **cascade** | `boolean` | optional | If true, invalidate dependent resources |
| **pattern** | `string` | optional | Pattern for custom invalidation (supports wildcards) |

---

## CacheInvalidationResponse

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **success** | `boolean` | ✅ | Whether invalidation succeeded |
| **invalidated** | `number` | ✅ | Number of cache entries invalidated |
| **targets** | `string[]` | optional | List of invalidated resources |

---

## CacheInvalidationTarget

### Allowed Values

* `all`
* `object`
* `field`
* `permission`
* `layout`
* `custom`

---

## ETag

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **value** | `string` | ✅ | ETag value (hash or version identifier) |
| **weak** | `boolean` | optional | Whether this is a weak ETag |

---

## MetadataCacheRequest

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **ifNoneMatch** | `string` | optional | ETag value for conditional request (If-None-Match header) |
| **ifModifiedSince** | `string` | optional | Timestamp for conditional request (If-Modified-Since header) |
| **cacheControl** | `object` | optional | Client cache control preferences |

---

## MetadataCacheResponse

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **data** | `any` | optional | Metadata payload (omitted for 304 Not Modified) |
| **etag** | `object` | optional | ETag for this resource version |
| **lastModified** | `string` | optional | Last modification timestamp |
| **cacheControl** | `object` | optional | Cache control directives |
| **notModified** | `boolean` | optional | True if resource has not been modified (304 response) |
| **version** | `string` | optional | Metadata version identifier |

