---
title: Testing
description: Testing protocol schemas
---

<Callout type="info">
**Source:** `packages/spec/src/qa/testing.zod.ts`
</Callout>

## TypeScript Usage

```typescript
import { TestAction, TestActionType, TestAssertion, TestAssertionType, TestContext, TestScenario, TestStep, TestSuite } from '@objectstack/spec/qa';
import type { TestAction, TestActionType, TestAssertion, TestAssertionType, TestContext, TestScenario, TestStep, TestSuite } from '@objectstack/spec/qa';

// Validate data
const result = TestAction.parse(data);
```

---

## TestAction

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **type** | `Enum<'create_record' \| 'update_record' \| 'delete_record' \| 'read_record' \| 'query_records' \| 'api_call' \| 'run_script' \| 'wait'>` | ✅ |  |
| **target** | `string` | ✅ | Target Object, API Endpoint, or Function Name |
| **payload** | `Record<string, any>` | optional | Data to send or use |
| **user** | `string` | optional | Run as specific user/role |


---

## TestActionType

### Allowed Values

* `create_record`
* `update_record`
* `delete_record`
* `read_record`
* `query_records`
* `api_call`
* `run_script`
* `wait`


---

## TestAssertion

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **field** | `string` | ✅ | Field path in the result to check (e.g. "body.data.0.status") |
| **operator** | `Enum<'equals' \| 'not_equals' \| 'contains' \| 'not_contains' \| 'is_null' \| 'not_null' \| 'gt' \| 'gte' \| 'lt' \| 'lte' \| 'error'>` | ✅ |  |
| **expectedValue** | `any` | optional |  |


---

## TestAssertionType

### Allowed Values

* `equals`
* `not_equals`
* `contains`
* `not_contains`
* `is_null`
* `not_null`
* `gt`
* `gte`
* `lt`
* `lte`
* `error`


---

## TestContext

Initial context or variables for the test


---

## TestScenario

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **id** | `string` | ✅ |  |
| **name** | `string` | ✅ |  |
| **description** | `string` | optional |  |
| **tags** | `string[]` | optional |  |
| **setup** | `Object[]` | optional | Steps to run before main test |
| **steps** | `Object[]` | ✅ | Main test sequence |
| **teardown** | `Object[]` | optional | Steps to cleanup |
| **requires** | `Object` | optional |  |


---

## TestStep

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **name** | `string` | ✅ |  |
| **description** | `string` | optional |  |
| **action** | `Object` | ✅ |  |
| **assertions** | `Object[]` | optional |  |
| **capture** | `Record<string, string>` | optional | Map result fields to context variables: `{ "newId": "body._id" }` |


---

## TestSuite

### Properties

| Property | Type | Required | Description |
| :--- | :--- | :--- | :--- |
| **name** | `string` | ✅ |  |
| **scenarios** | `Object[]` | ✅ |  |


---

