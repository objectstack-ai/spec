---
title: Plugin Development
description: How to build extensions for ObjectStack
---

# Plugin Development

Plugins are the building blocks of ObjectStack. A plugin is a plain JavaScript/TypeScript object (or class) that conforms to the `Plugin` interface.

## Anatomy of a Plugin

```typescript
import type { Plugin, PluginContext } from '@objectstack/core';

export class MyPlugin implements Plugin {
    // Identity
    name = 'com.example.myplugin';
    version = '1.0.0';
    description = 'An example plugin';
    
    // Dependencies (Optional)
    dependencies = {
        '@objectstack/runtime': '^1.0.0'
    };

    // Configuration Schema (Optional Zod Schema)
    configSchema = z.object({
        apiKey: z.string()
    });

    /**
     * Initialization Phase
     * Use this to register services, listeners, or other early setup.
     */
    async onInit(ctx: PluginContext) {
        // Register a service
        ctx.services.register('myService', new MyService());
    }

    /**
     * Start Phase
     * The system is fully initialized. Use this to start servers or background jobs.
     */
    async onStart(ctx: PluginContext) {
        console.log('MyPlugin started!');
    }
}
```

## RuntimePlugin Interface Reference

The `RuntimePlugin` interface defines the contract that all functionality modules must implement.

```typescript
export interface RuntimePlugin {
    /**
     * Plugin Unique Identifier
     * Recommended format: com.organization.plugin-name
     */
    name: string;

    /**
     * Plugin Version
     * Must follow Semantic Versioning (SemVer)
     */
    version?: string;

    /**
     * Description
     * Brief explanation of the plugin's purpose.
     */
    description?: string;

    /**
     * Initialization Hook
     * Called during Kernel bootstrap. Use this to:
     * - Register Services
     * - Register Event Listeners
     * - Extend Metadata
     */
    onInit?: (context: PluginContext) => Promise<void>;

    /**
     * Start Hook
     * Called after all plugins are initialized. Use this to:
     * - Start HTTP servers
     * - Connect to databases
     * - Start background workers
     */
    onStart?: (context: PluginContext) => Promise<void>;

    /**
     * Stop Hook
     * Called during Kernel shutdown. cleanup resources here.
     */
    onStop?: (context: PluginContext) => Promise<void>;
}
```
