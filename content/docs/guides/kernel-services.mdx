---
title: Kernel Services Checklist
description: Complete inventory of ObjectStack kernel services with protocol methods, implementation status, and development requirements
---

# Kernel Services Checklist

The ObjectStack protocol defines **17 kernel services** registered via the `CoreServiceName` enum into the microkernel's Service Registry. Each service maps to a set of protocol methods (57 total), governed by the `ObjectStackProtocol` interface.

This document provides a comprehensive development checklist for all kernel services, detailing what each service must implement.

<Callout type="info">
**Last Updated**: February 2026

- âœ… Implemented â€” 19 protocol methods
- ğŸš§ Stub â€” 1 (throws error)
- âŒ Not Implemented â€” 37 protocol methods
</Callout>

---

## Service Overview

| # | Service Name | Criticality | Methods | Status | Package |
|:--|:-------------|:------------|:--------|:-------|:--------|
| 1 | **metadata** | `required` | 7 | âœ… Complete | `@objectstack/objectql` |
| 2 | **data** | `required` | 9 | âœ… Complete | `@objectstack/objectql` |
| 3 | **auth** | `required` | â€” | âš ï¸ Passthrough | `@objectstack/runtime` |
| 4 | **analytics** | `optional` | 2 | âœ… Complete | `@objectstack/objectql` |
| 5 | **ui** | `optional` | 5 | âŒ Not Implemented | TBD |
| 6 | **workflow** | `optional` | 5 | âŒ Not Implemented | TBD |
| 7 | **automation** | `optional` | 1 | ğŸš§ Stub | TBD |
| 8 | **realtime** | `optional` | 6 | âŒ Not Implemented | TBD |
| 9 | **notification** | `optional` | 7 | âŒ Not Implemented | TBD |
| 10 | **ai** | `optional` | 4 | âŒ Not Implemented | TBD |
| 11 | **i18n** | `optional` | 3 | âŒ Not Implemented | TBD |
| 12 | **file-storage** | `optional` | â€” | âŒ Not Implemented | TBD |
| 13 | **search** | `optional` | â€” | âŒ Not Implemented | TBD |
| 14 | **cache** | `core` | â€” | âš ï¸ HTTP Cache Only | `@objectstack/objectql` |
| 15 | **queue** | `core` | â€” | âŒ Not Implemented | TBD |
| 16 | **job** | `core` | â€” | âŒ Not Implemented | TBD |
| 17 | **graphql** | `optional` | â€” | âŒ Not Implemented | TBD |

<Callout type="warn">
**Criticality Levels**
- **required**: System cannot start without this service
- **core**: Falls back to in-memory implementation with a warning if missing
- **optional**: Feature disabled; API returns `501 Not Implemented` if missing
</Callout>

---

## 1. metadata Service âœ… Complete

**Service Name**: `metadata` Â· **Criticality**: `required`  
**Implementation**: `@objectstack/objectql` â†’ `ObjectStackProtocolImplementation`  
**Route Mounts**: `/api/v1/meta`, `/api/v1/discovery`, `/api/v1/packages`

### Protocol Methods

| Method | Signature | Status |
|:-------|:----------|:------:|
| `getDiscovery` | `GetDiscoveryRequest â†’ GetDiscoveryResponse` | âœ… |
| `getMetaTypes` | `GetMetaTypesRequest â†’ GetMetaTypesResponse` | âœ… |
| `getMetaItems` | `GetMetaItemsRequest â†’ GetMetaItemsResponse` | âœ… |
| `getMetaItem` | `GetMetaItemRequest â†’ GetMetaItemResponse` | âœ… |
| `saveMetaItem` | `SaveMetaItemRequest â†’ SaveMetaItemResponse` | âœ… |
| `getMetaItemCached` | `GetMetaItemCachedRequest â†’ GetMetaItemCachedResponse` | âœ… |
| `getUiView` | `GetUiViewRequest â†’ GetUiViewResponse` | âœ… |

### Implementation Details

- **Discovery**: Returns API version, base path, route mounts, and capability flags
- **Metadata CRUD**: Delegates to `SchemaRegistry` for type registration and queries
- **ETag Caching**: Browser-compatible caching via `simpleHash()`
- **Auto-generated UI Views**: Generates ListView / FormView from Object Schema fields

---

## 2. data Service âœ… Complete

**Service Name**: `data` Â· **Criticality**: `required`  
**Implementation**: `@objectstack/objectql` â†’ `ObjectQL` (IDataEngine) + `ObjectStackProtocolImplementation`  
**Route Mount**: `/api/v1/data`

### Protocol Methods

| Method | Signature | Status |
|:-------|:----------|:------:|
| `findData` | `FindDataRequest â†’ FindDataResponse` | âœ… |
| `getData` | `GetDataRequest â†’ GetDataResponse` | âœ… |
| `createData` | `CreateDataRequest â†’ CreateDataResponse` | âœ… |
| `updateData` | `UpdateDataRequest â†’ UpdateDataResponse` | âœ… |
| `deleteData` | `DeleteDataRequest â†’ DeleteDataResponse` | âœ… |
| `batchData` | `BatchDataRequest â†’ BatchDataResponse` | âœ… |
| `createManyData` | `CreateManyDataRequest â†’ CreateManyDataResponse` | âœ… |
| `updateManyData` | `UpdateManyDataRequest â†’ UpdateManyDataResponse` | âœ… |
| `deleteManyData` | `DeleteManyDataRequest â†’ DeleteManyDataResponse` | âœ… |

### Implementation Details

- **CRUD**: Delegates to `ObjectQL.find()` / `insert()` / `update()` / `delete()` â†’ Driver layer
- **Batch**: `batchData()` supports mixed `create`/`update`/`upsert`/`delete` operations with `atomic` and `continueOnError` options
- **Bulk**: `createManyData` for batch inserts, `updateManyData` with per-record error collection, `deleteManyData` via `$in` filter
- **Hook System**: Full lifecycle hooks (`beforeFind`, `afterInsert`, etc.)
- **Aggregation**: `engine.aggregate()` maps `DataEngineAggregateOptions` to `QueryAST` (groupBy + aggregations) and delegates to the driver

### Driver Implementations

| Driver | Package | CRUD | Aggregation | Production Ready |
|:-------|:--------|:----:|:-----------:|:----------------:|
| InMemory | `@objectstack/driver-memory` | âœ… | âœ… | Dev / Test |
| PostgreSQL | TBD | â€” | â€” | â€” |
| MySQL | TBD | â€” | â€” | â€” |
| MongoDB | TBD | â€” | â€” | â€” |
| SQLite | TBD | â€” | â€” | â€” |

---

## 3. auth Service âš ï¸ Passthrough

**Service Name**: `auth` Â· **Criticality**: `required`  
**Route Mount**: `/api/v1/auth`

### Current State

- HTTP Dispatcher routes defined; authentication middleware passthrough implemented
- Client SDK exposes `login`/`logout`/`register`/`refreshToken`/`me`
- **Needs development**: A complete identity & authentication engine

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Identity Provider** | JWT issuance/verification, session management | P0 |
| **User CRUD** | Create / read / update / delete users | P0 |
| **Role Management** | Role definitions, role-user associations | P0 |
| **OAuth2 / OIDC** | Third-party login (Google, GitHub, etc.) | P1 |
| **Multi-tenancy** | Space / Tenant isolation | P1 |
| **SCIM** | Enterprise user provisioning protocol | P2 |

### Related Spec Files

- `src/identity/identity.zod.ts` â€” User / Identity schema
- `src/identity/role.zod.ts` â€” Role schema
- `src/identity/organization.zod.ts` â€” Organization schema
- `src/system/auth-config.zod.ts` â€” Auth configuration
- `src/system/tenant.zod.ts` â€” Multi-tenancy

---

## 4. analytics Service âœ… Complete

**Service Name**: `analytics` Â· **Criticality**: `optional`  
**Implementation**: `@objectstack/objectql` (driver-level capability, not a standalone plugin)  
**Route Mount**: `/api/v1/analytics`

### Protocol Methods

| Method | Signature | Status |
|:-------|:----------|:------:|
| `analyticsQuery` | `AnalyticsQueryRequest â†’ AnalyticsResultResponse` | âœ… |
| `getAnalyticsMeta` | `GetAnalyticsMetaRequest â†’ AnalyticsMetadataResponse` | âœ… |

### Implementation Details

- **Cube Semantic Queries**: Maps AnalyticsQuery (measures / dimensions / filters) to ObjectQL aggregation
  - `cube` â†’ object name
  - `dimensions` â†’ `groupBy`
  - `measures` â†’ `aggregations` (supports `count`, `field.sum`, `field.avg`, etc.)
  - `filters` â†’ driver-level where conditions
- **Auto-generated Metadata**: Generates Cube metadata from SchemaRegistry objects
  - Numeric fields â†’ sum/avg measures + number dimensions
  - Date fields â†’ time dimensions (day/week/month/quarter/year)
  - Text fields â†’ string dimensions

---

## 5. ui Service âŒ Not Implemented

**Service Name**: `ui` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/ui`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `listViews` | `ListViewsRequest â†’ ListViewsResponse` | List all views for an object |
| `getView` | `GetViewRequest â†’ GetViewResponse` | Get a single view definition |
| `createView` | `CreateViewRequest â†’ CreateViewResponse` | Create a custom view |
| `updateView` | `UpdateViewRequest â†’ UpdateViewResponse` | Update a view configuration |
| `deleteView` | `DeleteViewRequest â†’ DeleteViewResponse` | Delete a view |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **View CRUD** | Store view definitions in SchemaRegistry; support ListView / FormView / KanbanView | P0 |
| **View Merging** | Merge Object Schema default views with custom view overrides | P1 |
| **Layout Engine** | Parse Layout DSL (tabs / sections / columns) | P1 |
| **Action Registry** | Action button definitions and execution binding on views | P2 |
| **Permission Filtering** | Filter views and field visibility by user role | P2 |

### Related Spec Files

- `src/ui/view.zod.ts` â€” View schema (grid / kanban / calendar / gantt / form / wizard)
- `src/ui/app.zod.ts` â€” App navigation schema
- `src/ui/action.zod.ts` â€” Action schema
- `src/ui/dashboard.zod.ts` â€” Dashboard schema
- `src/ui/page.zod.ts` â€” Page schema

---

## 6. workflow Service âŒ Not Implemented

**Service Name**: `workflow` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/workflow`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `getWorkflowConfig` | `GetWorkflowConfigRequest â†’ GetWorkflowConfigResponse` | Get workflow configuration |
| `getWorkflowState` | `GetWorkflowStateRequest â†’ GetWorkflowStateResponse` | Get a record's workflow state |
| `workflowTransition` | `WorkflowTransitionRequest â†’ WorkflowTransitionResponse` | Execute a state transition |
| `workflowApprove` | `WorkflowApproveRequest â†’ WorkflowApproveResponse` | Approve a workflow step |
| `workflowReject` | `WorkflowRejectRequest â†’ WorkflowRejectResponse` | Reject a workflow step |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **State Machine Engine** | Implement state definitions and transition rules via `StateMachineSchema` | P0 |
| **Approval Process** | Serial/parallel approval nodes, multi-level approval, delegation | P0 |
| **Workflow Configuration** | Load workflow metadata from SchemaRegistry | P1 |
| **Audit History** | State change audit trail | P1 |
| **Conditional Guards** | Transition condition expressions (permission checks, field conditions) | P1 |
| **Notification Integration** | Trigger notifications on state changes (depends on notification service) | P2 |

### Related Spec Files

- `src/automation/workflow.zod.ts` â€” Workflow / state machine schema
- `src/automation/flow.zod.ts` â€” Flow orchestration schema

---

## 7. automation Service ğŸš§ Stub

**Service Name**: `automation` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/automation`

### Protocol Methods to Implement

| Method | Signature | Current State |
|:-------|:----------|:--------------|
| `triggerAutomation` | `AutomationTriggerRequest â†’ AutomationTriggerResponse` | ğŸš§ Throws `requires plugin-automation` |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Trigger Engine** | Accept `triggerAutomation` requests and route to appropriate handlers | P0 |
| **Event Triggers** | Listen to ObjectQL Hook events (afterInsert/afterUpdate) to auto-trigger flows | P0 |
| **Flow Executor** | Execute FlowSchema nodes (decision / assignment / loop / action) | P1 |
| **Scheduled Triggers** | Cron-based schedule triggers | P1 |
| **Inbound Webhooks** | Accept external HTTP events as trigger sources | P2 |
| **ETL Pipelines** | Data extract / transform / load pipelines | P2 |

### Related Spec Files

- `src/automation/trigger-registry.zod.ts` â€” Trigger registry schema
- `src/automation/flow.zod.ts` â€” Flow orchestration schema (autolaunched / screen / schedule)
- `src/automation/workflow.zod.ts` â€” Workflow approval schema

---

## 8. realtime Service âŒ Not Implemented

**Service Name**: `realtime` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/realtime`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `realtimeConnect` | `RealtimeConnectRequest â†’ RealtimeConnectResponse` | Establish connection |
| `realtimeDisconnect` | `RealtimeDisconnectRequest â†’ RealtimeDisconnectResponse` | Disconnect |
| `realtimeSubscribe` | `RealtimeSubscribeRequest â†’ RealtimeSubscribeResponse` | Subscribe to data changes |
| `realtimeUnsubscribe` | `RealtimeUnsubscribeRequest â†’ RealtimeUnsubscribeResponse` | Unsubscribe |
| `setPresence` | `SetPresenceRequest â†’ SetPresenceResponse` | Set online presence |
| `getPresence` | `GetPresenceRequest â†’ GetPresenceResponse` | Query online presence |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **WebSocket Server** | Manage connection lifecycle via Hono or a standalone WS server | P0 |
| **Subscription Manager** | Track client subscriptions per object/record and push changes | P0 |
| **Change Broadcasting** | Hook into ObjectQL afterInsert/afterUpdate/afterDelete for push events | P0 |
| **Channel Isolation** | Isolate messages by object, record, or custom channel | P1 |
| **Presence** | User online status tracking with heartbeat detection | P1 |
| **SSE Fallback** | Server-Sent Events fallback when WebSocket is unavailable | P2 |

### Related Spec Files

- `src/api/realtime.zod.ts` â€” Realtime protocol schema
- `src/api/websocket.zod.ts` â€” WebSocket message format

---

## 9. notification Service âŒ Not Implemented

**Service Name**: `notification` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/notifications`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `registerDevice` | `RegisterDeviceRequest â†’ RegisterDeviceResponse` | Register a push device token |
| `unregisterDevice` | `UnregisterDeviceRequest â†’ UnregisterDeviceResponse` | Unregister a device |
| `getNotificationPreferences` | `GetNotificationPreferencesRequest â†’ GetNotificationPreferencesResponse` | Get notification preferences |
| `updateNotificationPreferences` | `UpdateNotificationPreferencesRequest â†’ UpdateNotificationPreferencesResponse` | Update preferences |
| `listNotifications` | `ListNotificationsRequest â†’ ListNotificationsResponse` | List user notifications |
| `markNotificationsRead` | `MarkNotificationsReadRequest â†’ MarkNotificationsReadResponse` | Mark as read |
| `markAllNotificationsRead` | `MarkAllNotificationsReadRequest â†’ MarkAllNotificationsReadResponse` | Mark all as read |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Notification Storage** | Store notification records (object + driver) | P0 |
| **Notification Query** | Paginated query by user / type / read status | P0 |
| **Preference Management** | Per-type channel configuration (email / push / in-app) | P1 |
| **Device Management** | Register/unregister push tokens (FCM / APNs) | P1 |
| **Dispatch Engine** | Notification routing (in-app â†’ storage, email â†’ SMTP, push â†’ push service) | P1 |
| **Template System** | Notification content templates with variable substitution | P2 |

### Related Spec Files

- `src/system/notification.zod.ts` â€” Notification schema

---

## 10. ai Service âŒ Not Implemented

**Service Name**: `ai` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/ai`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `aiNlq` | `AiNlqRequest â†’ AiNlqResponse` | Natural Language Query (NLQ â†’ QueryAST) |
| `aiChat` | `AiChatRequest â†’ AiChatResponse` | Context-aware AI chat |
| `aiSuggest` | `AiSuggestRequest â†’ AiSuggestResponse` | Field value suggestions / autocomplete |
| `aiInsights` | `AiInsightsRequest â†’ AiInsightsResponse` | Data insight generation |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Model Registry** | LLM provider configuration and routing (OpenAI / Anthropic / local models) | P0 |
| **NLQ Engine** | Natural language â†’ QueryAST conversion using Schema metadata for context | P0 |
| **Agent Framework** | Execute agents via AgentSchema (role / instructions / tools) | P1 |
| **Conversation Manager** | Session persistence, context window management | P1 |
| **RAG Pipeline** | Knowledge base indexing + retrieval-augmented generation | P2 |
| **Data Insights** | Generate natural language summaries from analytics results | P2 |

### Related Spec Files

- `src/ai/agent.zod.ts` â€” Agent schema
- `src/ai/model-registry.zod.ts` â€” Model configuration
- `src/ai/rag-pipeline.zod.ts` â€” RAG pipeline
- `src/api/analytics.zod.ts` â€” NLQ request/response

---

## 11. i18n Service âŒ Not Implemented

**Service Name**: `i18n` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/i18n`

### Protocol Methods to Implement

| Method | Signature | Description |
|:-------|:----------|:------------|
| `getLocales` | `GetLocalesRequest â†’ GetLocalesResponse` | Get supported locales |
| `getTranslations` | `GetTranslationsRequest â†’ GetTranslationsResponse` | Get translation bundles |
| `getFieldLabels` | `GetFieldLabelsRequest â†’ GetFieldLabelsResponse` | Get field label translations |

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Translation Storage** | Load Translation metadata from SchemaRegistry or files | P0 |
| **Bundle Query** | Return key-value pairs by locale + namespace | P0 |
| **Field Labels** | Auto-generate multilingual labels from Object Schema `label` fields | P1 |
| **Lazy Loading** | On-demand bundle loading to reduce initialization size | P2 |
| **Translation Overrides** | Allow plugins to override built-in translations | P2 |

### Related Spec Files

- `src/system/translation.zod.ts` â€” Translation schema

---

## 12. file-storage Service âŒ Not Implemented

**Service Name**: `file-storage` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/storage`

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Storage Interface** | Unified upload/download/delete API (`IStorageProvider`) | P0 |
| **Local Storage** | Filesystem driver for development | P0 |
| **S3 Driver** | AWS S3 / MinIO compatible object storage | P1 |
| **Metadata Binding** | Bind files to record fields (file/image field types) | P1 |
| **Access Control** | Signed URLs, permission checks | P2 |

### Related Spec Files

- `src/integration/object-storage.zod.ts` â€” Object storage schema

---

## 13. search Service âŒ Not Implemented

**Service Name**: `search` Â· **Criticality**: `optional`

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Search Interface** | Unified full-text search API (`ISearchEngine`) | P0 |
| **In-Memory Search** | Simple match search using the InMemory Driver | P0 |
| **Elasticsearch Driver** | Full-text search engine integration | P1 |
| **Index Management** | Auto-index searchable fields | P1 |
| **Search Suggestions** | Typeahead / autocomplete | P2 |

### Related Spec Files

- `src/data/search-engine.zod.ts` â€” Search engine schema

---

## 14. cache Service âš ï¸ Partial

**Service Name**: `cache` Â· **Criticality**: `core`

### Current State

- HTTP ETag caching implemented in `getMetaItemCached()`
- General-purpose in-memory cache not yet implemented

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Cache Interface** | Unified `ICacheProvider` (get/set/del/has/ttl) | P0 |
| **In-Memory Cache** | LRU / TTL in-memory cache implementation | P0 |
| **Redis Driver** | Redis cache driver | P1 |
| **Query Cache** | Auto-cache ObjectQL query results + invalidation strategy | P1 |
| **Schema Cache** | Cache SchemaRegistry parse results | P2 |

### Related Spec Files

- `src/system/cache.zod.ts` â€” Cache configuration schema

---

## 15. queue Service âŒ Not Implemented

**Service Name**: `queue` Â· **Criticality**: `core`

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Queue Interface** | Unified `IQueueProvider` (enqueue/dequeue/ack) | P0 |
| **In-Memory Queue** | Simple queue based on Array/EventEmitter | P0 |
| **Redis Queue** | BullMQ / Redis Streams driver | P1 |
| **Message Retry** | Failed message retry, dead letter queue | P1 |

### Related Spec Files

- `src/integration/message-queue.zod.ts` â€” Message queue schema

---

## 16. job Service âŒ Not Implemented

**Service Name**: `job` Â· **Criticality**: `core`

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Task Scheduler** | Cron-based scheduled task execution | P0 |
| **Task Registration** | Plugins register tasks (name / schedule / handler) | P0 |
| **Task Status** | Execution history, success/failure records | P1 |
| **Concurrency Control** | Task locking, prevent duplicate execution | P1 |
| **Worker Pool** | Execute long-running tasks in isolated Workers | P2 |

### Related Spec Files

- `src/system/job.zod.ts` â€” Job scheduler schema
- `src/system/worker.zod.ts` â€” Worker schema

---

## 17. graphql Service âŒ Not Implemented

**Service Name**: `graphql` Â· **Criticality**: `optional`  
**Route Mount**: `/api/v1/graphql`

### Development Requirements

| Module | Description | Priority |
|:-------|:------------|:--------:|
| **Schema Auto-generation** | Generate GraphQL Schema (types / queries / mutations) from Object metadata | P0 |
| **Query Resolution** | GraphQL Query â†’ ObjectQL QueryAST mapping | P0 |
| **Mutation Mapping** | GraphQL Mutation â†’ ObjectQL insert/update/delete | P1 |
| **Relationship Resolution** | Resolve lookup/master_detail fields via GraphQL association resolvers (DataLoader) | P1 |
| **Subscription** | Combine with the realtime service for GraphQL Subscriptions | P2 |

### Related Spec Files

- `src/api/graphql.zod.ts` â€” GraphQL endpoint configuration

---

## Service Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Required Services                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ metadata â”‚  â”‚   data   â”‚  â”‚   auth   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚       â”‚              â”‚              â”‚                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”‚         Core Services       â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  cache   â”‚  â”‚  queue   â”‚  â”‚   job    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Optional Services                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ analytics â”‚ â”‚    ui    â”‚ â”‚ workflow â”‚            â”‚
â”‚  â”‚    âœ…     â”‚ â”‚    âŒ    â”‚ â”‚    âŒ    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚automation â”‚ â”‚ realtime â”‚ â”‚notificationâ”‚           â”‚
â”‚  â”‚    ğŸš§     â”‚ â”‚    âŒ    â”‚ â”‚    âŒ    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚    ai     â”‚ â”‚   i18n   â”‚ â”‚ graphql  â”‚            â”‚
â”‚  â”‚    âŒ     â”‚ â”‚    âŒ    â”‚ â”‚    âŒ    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚file-storageâ”‚ â”‚  search  â”‚                          â”‚
â”‚  â”‚    âŒ     â”‚ â”‚    âŒ    â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Recommended Development Phases

### Phase 1: Kernel Hardening (P0)

| Service | Methods | Description |
|:--------|:-------:|:------------|
| **auth** | â€” | Identity & authentication engine â€” system requirement, currently passthrough only |
| **ui** | 5 | View CRUD â€” core capability of a low-code platform |
| **cache** | â€” | General-purpose cache â€” performance infrastructure |

### Phase 2: Business Engine (P1)

| Service | Methods | Description |
|:--------|:-------:|:------------|
| **workflow** | 5 | State machine + approval process â€” enterprise application core |
| **automation** | 1+ | Triggers + flow orchestration â€” automation foundation |
| **i18n** | 3 | Internationalization â€” multi-language support |
| **file-storage** | â€” | File storage â€” common business requirement |

### Phase 3: Advanced Capabilities (P2)

| Service | Methods | Description |
|:--------|:-------:|:------------|
| **realtime** | 6 | WebSocket real-time push |
| **notification** | 7 | Notification engine |
| **ai** | 4 | AI capabilities |
| **graphql** | â€” | GraphQL API endpoint |
| **search** | â€” | Full-text search |
| **job** | â€” | Scheduled tasks |
| **queue** | â€” | Message queue |

---

## Implementation Guide

### Adding a New Kernel Service

Each kernel service should follow this plugin pattern:

```typescript
import type { Plugin } from '@objectstack/core';

export const myServicePlugin: Plugin = {
  name: 'my-service',
  provides: ['my-service'], // Value from CoreServiceName
  
  async init(ctx) {
    const engine = ctx.getService<IDataEngine>('data');
    const service = new MyServiceImpl(engine);
    ctx.registerService('my-service', service);
  },
  
  async start(ctx) {
    const service = ctx.getService<IMyService>('my-service');
    await service.onReady();
  },
  
  async stop(ctx) {
    const service = ctx.getService<IMyService>('my-service');
    await service.shutdown();
  },
};
```

### Implementing Protocol Methods

Add protocol methods in `ObjectStackProtocolImplementation`:

```typescript
// packages/objectql/src/protocol.ts
async listViews(request: ListViewsRequest): Promise<ListViewsResponse> {
    const views = SchemaRegistry.listItems('view');
    return {
        success: true,
        data: views.filter(v => v.object === request.object),
    };
}
```

### Automatic REST Route Registration

The REST layer auto-generates HTTP endpoints for implemented protocol methods:

```
GET    /api/v1/ui/views?object=account  â†’ listViews
GET    /api/v1/ui/views/:name           â†’ getView
POST   /api/v1/ui/views                 â†’ createView
PATCH  /api/v1/ui/views/:name           â†’ updateView
DELETE /api/v1/ui/views/:name           â†’ deleteView
```

---

## Next Steps

<Cards>
  <Card 
    href="../concepts/implementation-status" 
    title="Implementation Status Matrix"
    description="Full protocol implementation status across all packages"
  />
  <Card 
    href="../concepts/core/services" 
    title="Service Registry"
    description="Microkernel service registration and dependency injection"
  />
  <Card 
    href="../../references/kernel" 
    title="Kernel Protocol Reference"
    description="All kernel-level Zod schema definitions"
  />
  <Card 
    href="https://github.com/objectstack-ai/spec" 
    title="Contribute"
    description="Help implement missing services on GitHub"
  />
</Cards>
