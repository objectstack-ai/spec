ğŸŸ¢ P0: æ ¸å¿ƒå…ƒæ¨¡å‹ (The Metamodel)
æ²¡æœ‰è¿™éƒ¨åˆ†ï¼ŒObjectQL å’Œ ObjectUI æ— æ³•é€šä¿¡ï¼Œç³»ç»Ÿæ— æ³•è¿è½¬ã€‚è¿™æ˜¯â€œä¸‡ç‰©çš†å¯¹è±¡â€çš„æ³•å¾‹å®šä¹‰ã€‚
 * [ ] 1. å®ä½“å®šä¹‰åè®® (EntitySchema)
   * å®šä¹‰ç›®æ ‡: æè¿°ä¸€ä¸ªâ€œå¯¹è±¡â€é•¿ä»€ä¹ˆæ ·ã€‚
   * å…³é”®å­—æ®µ: name (æœºå™¨å), label (æ˜¾ç¤ºå), dataSource (å­˜å“ª), dbName (ç‰©ç†è¡¨å)ã€‚
   * ç”¨é€”: ObjectQL è§£æ .gql æ–‡ä»¶åç”Ÿæˆçš„ AST ç»“æ„ï¼›/_api/metadata/objects/{name} çš„è¿”å›å€¼ã€‚
 * [ ] 2. å­—æ®µå®šä¹‰åè®® (FieldSchema)
   * å®šä¹‰ç›®æ ‡: æè¿°å¯¹è±¡é‡Œçš„â€œå±æ€§â€ã€‚
   * å…³é”®å­—æ®µ: type (text/number/lookup...), required, unique, defaultValueã€‚
   * å…³é”®æšä¸¾: FieldType (å¿…é¡»æšä¸¾æ‰€æœ‰æ”¯æŒçš„ç±»å‹ï¼Œå¦‚ master_detail, formula, image)ã€‚
   * ç”¨é€”: å‘Šè¯‰å‰ç«¯æ¸²æŸ“ä»€ä¹ˆç»„ä»¶ï¼Œå‘Šè¯‰åç«¯æ€ä¹ˆå»ºè¡¨ã€‚
 * [ ] 3. è§†å›¾/å¸ƒå±€åè®® (LayoutSchema)
   * å®šä¹‰ç›®æ ‡: æè¿°ç•Œé¢å¦‚ä½•æ’åˆ—ã€‚
   * å…³é”®ç»“æ„:
     * ListView: åˆ—å®šä¹‰ (columns), æ’åº (sort), ç­›é€‰ (filters)ã€‚
     * FormView: åŒºåŸŸ (sections), å­—æ®µåˆ†ç»„ (groups)ã€‚
   * ç”¨é€”: ObjectUI æ ¹æ®è¿™ä¸ª JSON æ¸²æŸ“é¡µé¢ï¼Œè€Œä¸æ˜¯å†™æ­» React ä»£ç ã€‚
ğŸ”µ P1: æ’ä»¶ä¸åˆ†å‘ (Packaging & Runtime)
æ²¡æœ‰è¿™éƒ¨åˆ†ï¼Œä½ çš„åº”ç”¨å¸‚åœºå’Œæ’ä»¶æœºåˆ¶å°±æ˜¯ç©ºè°ˆã€‚
 * [ ] 4. æ’ä»¶æ¸…å•åè®® (ManifestSchema)
   * å®šä¹‰ç›®æ ‡: æè¿°ä¸€ä¸ªè½¯ä»¶åŒ…ï¼ˆæ’ä»¶/åº”ç”¨ï¼‰ã€‚
   * æ–‡ä»¶å¯¹åº”: objectstack.config.ts æˆ– package.json > objectstackã€‚
   * å…³é”®å­—æ®µ: id, version, type (app/plugin/driver), permissions (ç”³è¯·æƒé™), menus (å¯¼èˆªæ³¨å…¥)ã€‚
   * ç”¨é€”: CLI æ‰“åŒ…æ ¡éªŒï¼Œåº”ç”¨å•†åº—å±•ç¤ºã€‚
 * [ ] 5. ç”Ÿå‘½å‘¨æœŸæ¥å£ (PluginLifecycle)
   * å®šä¹‰ç›®æ ‡: æ’ä»¶åœ¨è¿è¡Œæ—¶å¦‚ä½•è¢«åŠ è½½ã€‚
   * æ¥å£å®šä¹‰: interface ObjectStackPlugin
   * å…³é”®æ–¹æ³•: onInstall(ctx), onEnable(ctx), onDisable(ctx)ã€‚
   * Context å®šä¹‰: ctx.ql (æ•°æ®èƒ½åŠ›), ctx.os (ç³»ç»Ÿèƒ½åŠ›), ctx.loggerã€‚
   * ç”¨é€”: ObjectOS åŠ è½½ node_modules æ—¶çš„ç»Ÿä¸€å…¥å£æ ‡å‡†ã€‚
 * [ ] 6. å¯¼èˆªèœå•åè®® (NavigationSchema)
   * å®šä¹‰ç›®æ ‡: æè¿°ä¾§è¾¹æ èœå•ç»“æ„ã€‚
   * å…³é”®å­—æ®µ: label, icon, path, children, visible_on (æƒé™æ§åˆ¶)ã€‚
   * ç”¨é€”: å¤šä¸ªæ’ä»¶çš„èœå•åˆå¹¶æ¸²æŸ“åˆ° ObjectCloud / Studio çš„ä¾§è¾¹æ ã€‚
ğŸŸ  P2: é©±åŠ¨ä¸è¿æ¥ (Drivers & Logic)
è¿™éƒ¨åˆ†å†³å®šäº†ä½ çš„ç³»ç»Ÿæ‰©å±•æ€§ï¼ˆèƒ½ä¸èƒ½è¿ Excelï¼Œèƒ½ä¸èƒ½å†™è‡ªå®šä¹‰ä»£ç ï¼‰ã€‚
 * [ ] 7. æ•°æ®é©±åŠ¨æ¥å£ (DriverInterface)
   * å®šä¹‰ç›®æ ‡: ä»»ä½•æ•°æ®åº“è¦æƒ³æ¥å…¥ ObjectQLï¼Œå¿…é¡»å®ç°çš„æ ‡å‡†ã€‚
   * æ ¸å¿ƒæ–¹æ³•:
     * find(entity, query)
     * create(entity, data)
     * update(entity, id, data)
     * delete(entity, id)
     * syncSchema(entity) (DDL æ“ä½œï¼šå»ºè¡¨/åŠ å­—æ®µ)
   * ç”¨é€”: è®© driver-postgres, driver-excel, driver-salesforce è¡Œä¸ºä¸€è‡´ã€‚
 * [ ] 8. è§¦å‘å™¨ä¸Šä¸‹æ–‡åè®® (TriggerContext)
   * å®šä¹‰ç›®æ ‡: å½“ç”¨æˆ·å†™ beforeInsert ä»£ç æ—¶ï¼Œä¼ å…¥å‚æ•°çš„æ ‡å‡†ã€‚
   * æ¥å£å®šä¹‰:
     * doc (å½“å‰è®°å½•)
     * previousDoc (ä¿®æ”¹å‰çš„è®°å½•)
     * userId (è°åœ¨æ“ä½œ)
   * ç”¨é€”: è§„èŒƒåŒ–ä¸šåŠ¡é€»è¾‘ä»£ç çš„ç¼–å†™ã€‚
 * [ ] 9. UI ç»„ä»¶å¥‘çº¦ (WidgetContract)
   * å®šä¹‰ç›®æ ‡: ç¬¬ä¸‰æ–¹å¼€å‘è€…å¼€å‘è‡ªå®šä¹‰ UI ç»„ä»¶ï¼ˆå¦‚ï¼šåœ°å›¾é€‰æ‹©å™¨ï¼‰çš„æ ‡å‡†ã€‚
   * æ¥å£å®šä¹‰: interface FieldWidgetProps { value, onChange, readonly, options }ã€‚
   * ç”¨é€”: è®©ç¤¾åŒºå¼€å‘çš„ React ç»„ä»¶èƒ½æ— ç¼åµŒå…¥åˆ° ObjectUI çš„è¡¨å•ä¸­ã€‚
ğŸ’¾ ä½ çš„â€œç«‹æ³•â€è¡ŒåŠ¨è·¯çº¿å›¾
å»ºè®®ä½ åœ¨ packages/spec ä»“åº“ä¸­æŒ‰ä»¥ä¸‹æ–‡ä»¶ç»“æ„è½åœ°è¿™äº›åè®®ï¼š
packages/spec/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ meta/           <-- P0: Metamodel
â”‚   â”‚   â”‚   â”œâ”€â”€ entity.ts   (EntitySchema)
â”‚   â”‚   â”‚   â”œâ”€â”€ field.ts    (FieldSchema)
â”‚   â”‚   â”‚   â””â”€â”€ view.ts     (LayoutSchema)
â”‚   â”‚   â”œâ”€â”€ bundle/         <-- P1: Packaging
â”‚   â”‚   â”‚   â”œâ”€â”€ manifest.ts (ManifestSchema)
â”‚   â”‚   â”‚   â””â”€â”€ menu.ts     (NavigationSchema)
â”‚   â”‚   â”œâ”€â”€ runtime/        <-- P2: Logic
â”‚   â”‚   â”‚   â”œâ”€â”€ plugin.ts   (Lifecycle)
â”‚   â”‚   â”‚   â””â”€â”€ driver.ts   (DriverInterface)
â”‚   â”‚   â””â”€â”€ auth/           <-- from plugin-auth
â”‚   â”‚       â””â”€â”€ session.ts  (User/Session Interface)
â”‚   â”œâ”€â”€ zods/               <-- å¯¹åº”çš„ Zod å®ç° (ç”¨äºè¿è¡Œæ—¶æ ¡éªŒ)
â”‚   â””â”€â”€ constants/          <-- ç›®å½•çº¦å®š (paths)
â””â”€â”€ package.json

