---
title: REST API Protocol
description: Standard Data API and Metadata API Specification
---

# REST API Protocol

ObjectStack follows the "Protocol First" principle, providing a set of standardized RESTful APIs for interaction between the frontend and the ObjectOS kernel.

To solve the problem of hardcoded URL paths, ObjectStack introduces the **Discovery Protocol**, Clients should first request the discovery endpoint to obtain service entry points for the current environment.

## 1. Discovery

When the client starts (e.g., `App.init`), it should first request this endpoint.

- **Endpoint**: `GET /.well-known/objectstack` or `GET /api/v1/discovery`
- **Response Type**: `DiscoveryResponse`

```json
{
  "name": "Acme CRM Production",
  "version": "1.0.0",
  "environment": "production",
  "routes": {
    "data": "/api/v1/data",
    "metadata": "/api/v1/meta",
    "auth": "/api/v1/auth",
    "actions": "/api/v1/actions",
    "storage": "/api/v1/storage",
    "graphql": "/api/v1/graphql"
  },
  "features": {
    "graphql": true,
    "search": true,
    "files": true
  },
  "locale": {
    "default": "en-US",
    "supported": ["en-US", "zh-CN"],
    "timezone": "America/Los_Angeles"
  }
}
```

## 2. Standard Data API

Based on the base path returned by `routes.data` (default is `/api/v1/data`).

### Query Objects (Query)

- **Method**: `GET /:objectName`
- **Params**:
  - `select`: List of fields (comma separated)
  - `filter`: Filter criteria (JSON string, see `filters` in QuerySchema)
  - `sort`: Sorting (e.g. `created_at desc`)
  - `page`: Page number
  - `pageSize`: Items per page

### Get Single Record (Retrieve)

- **Method**: `GET /:objectName/:recordId`

### Create Record (Create)

- **Method**: `POST /:objectName`
- **Body**: Record data object

### Update Record (Update)

- **Method**: `PATCH /:objectName/:recordId`
- **Body**: Changed fields

### Delete Record (Delete)

- **Method**: `DELETE /:objectName/:recordId`

## 3. Standard Metadata API

Based on the base path returned by `routes.metadata` (default is `/api/v1/meta`).

### Get All Object Definitions

- **Method**: `GET /objects`
- **Response**: List of `ObjectSchema` (summary)

### Get Specific Object Definition

- **Method**: `GET /objects/:objectName`
- **Response**: Full `ObjectSchema` (incl. fields, validation)

### Get App Navigation Menus

- **Method**: `GET /menus`
- **Response**: `MenuItem[]`

## 4. Custom API Endpoints

Developers can define custom API interfaces via `ApiEndpointSchema`, which are typically mounted under `/api/v1/custom` or a custom path.

See [Custom API Guide](../../specifications/server/custom-api).
